---
title: 18.Gradleå¦‚ä½•å‘å¸ƒJavaåº“?
date: 2022-11-14
---

```mdx-code-block
import Tools from '@site/src/components/Tools/Index';
import LightBox from '@site/src/components/Lightbox/Lightbox';

```

## 1 æœ¬æ–‡çš„ç›®æ ‡æ˜¯ä»€ä¹ˆ?
* åˆ›å»ºä¸€ä¸ª`java`åº“
* å‘å¸ƒåˆ°`mvnrepository`

## 2 å‡†å¤‡å·¥ä½œ

| åç§° | å¿…è¦ | æ–‡ä¸­ç¤ºä¾‹ | è¯´æ˜ |
| --- | --- | --- | --- |
| java | âœ… | java17 |å¦‚æœæ²¡æœ‰å¯ä»¥å»[å®˜ç½‘](https://www.oracle.com/java/technologies/downloads)ä¸‹è½½ã€‚  |
| é‚®ç®±  | âœ… | root@wuchuheng.cn | ç”¨äºæ³¨å†Œ[sonatype](https://issues.sonatype.org)å’Œ`GPG`å¯†é’¥ç”Ÿæˆ  |
| åŸŸå | âœ… |  wuchuheng.cn | ç”¨äºç”³è¯·`cn.wuchuheng`çš„groupId` |
| `GPG` | âœ… | [gpg](https://gpgtools.org) | ç”¨äºç”Ÿæˆéå¯¹ç§°å…¬é’¥å’Œç§é’¥ï¼Œå¹¶ä¸Šä¼ å…¬é’¥å‡ºå»ï¼Œè¿™æ ·å¹³æ¥åœ¨å‘å¸ƒè‡ªå·±çš„åŒ…æ—¶ï¼Œå¯¹å…¶è¿›è¡ŒåŠ å¯†ï¼Œé˜²æ­¢è¢«ä¸­é—´äººç¯¡æ”¹|
| `Gradle` | âœ… | `Gradle 7.5` | åŒ…çš„ç”Ÿæˆåˆå§‹åŒ–ç”Ÿæˆå’ŒåŒ…çš„å‘å¸ƒéƒ½æ˜¯éœ€è¦è¿™ä¸ªå·¥å…·æ¥å®Œæˆ |
| githubä»“åº“ | âœ… | [`gradle-libery-demo-java`](https://github.com/wuchuheng/gradle-libery-demo-java) | åˆ›å»ºä¸€ä¸ªç©ºä»“åº“ï¼Œç”¨äºå­˜æ”¾ä»£ç å’Œç”³è¯·`groupId`æ—¶å¡«å†™è¡¨å•ä½¿ç”¨ |
| Git | âœ… | | ç‰ˆæœ¬æ§åˆ¶å·¥å…·ï¼Œç”¨äºä¿å­˜ä»£ç ä½¿ç”¨ |
| base64 | âœ… |  | base64æ˜¯ä¸€ä¸ªæŠŠäºŒè¿›åˆ¶æ•°æ®ç¼–ç æˆå­—ç¬¦ä¸²çš„å·¥å…·,æœ¬æ–‡ä¸­ç”¨äºè½¬æ¢`GPG`äºŒè¿›åˆ¶ç§é’¥ä¸ºbase64æ–‡æœ¬  |
| ç¼–è¾‘å™¨ | âŒ | `IntelliJ IDEA`  | å‡†å¤‡ä¸€ä¸ªç¼–è¾‘å™¨ï¼Œç”¨çš„é¡ºæ‰‹å°±è¡Œ |
| OS | âŒ | `Mac OS 12`  | æ¼”ç¤ºä½¿ç”¨çš„æ“ä½œç³»ç»Ÿ |


## 3 è·å–sonatypeä»“åº“çš„å‘åŒ…è®¸å¯
å½“æˆ‘ä»¬æŠŠ`java`åº“æ‰“åŒ…å‡ºæ¥åï¼Œæƒ³è¦å‘å¸ƒåˆ°å…¬å…±çš„ä»“åº“æ‰èƒ½ä¸ºä»–äººæ‰€ç”¨æ—¶ï¼Œæˆ‘ä»¬éœ€è¦è·å–ä»“åº“çš„å‘å¸ƒè®¸å¯ï¼ŒåŒ…æ‰æœ‰å¯ä»¥ä¸Šä¼ ä¸Šå»ã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦åˆ›å»ºåˆ›å»ºä¸€ä¸ª
[`sonatype`](https://issues.sonatype.org/)è´¦å·, å¹¶è·å–å‘åŒ…çš„è®¸å¯ã€‚

:::tip ä¸ºä»€ä¹ˆè¦è¿™ä¹ˆåš?

å½“æˆ‘ä»¬æŠŠåŒ…å‘å¸ƒåˆ°[`sonatype`](https://issues.sonatype.org/)çš„ä»“åº“åï¼Œè¿™äº›åŒ…ç¡®è®¤æ²¡æœ‰é—®é¢˜ï¼Œå¯ä»¥æ­£å¼å…¬å¸ƒå‡ºå»æ—¶ï¼Œä¾¿å¯ä»¥åŒæ­¥åˆ°`mvnrepository`ã€‚
è¿™è¦å…¶ä»–äººä¹Ÿå¯ä»¥å‘å¸ƒæˆ‘ä»¬æ‰€å‘å¸ƒçš„åŒ…ï¼Œä»è€Œä¸‹è½½å¹¶ä½¿ç”¨å®ƒä»¬.

:::

### 3.1 æ³¨å†Œsonatype(OSSRH)è´¦å·
> å»[issues.sonatype.org](https://issues.sonatype.org/secure/Signup!default.jspa)æ³¨å†Œä¸€ä¸ªè´¦å·.

<details>
<summary>æ³¨å†Œã€ç™»å½•ã€è¯­è¨€å‘å¯¼æˆªå›¾</summary>

> æ³¨å†Œ
<LightBox url="https://qiniu.wuchuheng.com/images/WX20221115-130426.png" alt="Gradleå‘å¸ƒJavaåº“åˆ°mvnrepository" />

> ç™»å½•
<LightBox url="https://qiniu.wuchuheng.com/images/howToPublishJavaLiberyToMvn1.png" alt="Gradleå‘å¸ƒJavaåº“åˆ°mvnrepository" />

> æ–°æ‰‹å‘å¯¼
<LightBox url="https://qiniu.wuchuheng.com/images/howToPublishJavaLiberyToMvn2.png" alt="Gradleå‘å¸ƒJavaåº“åˆ°mvnrepository" />

</details>

### 3.2 æäº¤åˆ›å»ºé¡¹ç›®çš„issue

:::tip ä¸ºä»€ä¹ˆè¦æäº¤åˆ›å»ºé¡¹ç›®çš„issue?
å› ä¸ºæˆ‘ä»¬éœ€è¦ä¸º`wuchuheng.cn`ç”³è¯·`cn.wuchuheng`çš„`groupId`
:::

åœ¨åˆ›å»º`issue`æ—¶,åœ¨è¡¨å•ä¸­éœ€è¦å¡«å†™:

1. project é€‰æ‹©: Community Support - Open Source Project Repository Hosting (OSSRH)
2. Issue Type: Improvement
3. Summary: Create repository for [ä½ çš„åŸŸåå€’ç½®]
4. Group Id: [ä½ çš„åŸŸåå€’ç½®]
5. Project URL: å†™ä¸Šä½ çš„ä»£ç ä»“åº“é“¾æ¥ï¼Œå¦‚: https://github.com/wuchuheng/gradle-libery-demo-java
7. SMC URL: å†™ä¸Šä½ çš„ä»£ç ä»“åº“é“¾æ¥ï¼Œå¦‚: https://github.com/wuchuheng/gradle-libery-demo-java
7. åˆ›å»ºIssue

<details>
<summary>åˆ›å»ºIssueæˆªå›¾</summary>

> åˆ›å»ºIssue

<LightBox url="https://qiniu.wuchuheng.com/images/https-%3A%3Aqiniu.wuchuheng.com%3Aimages%3AhowToPublishJavaLiberyToMvn3.png" alt="Gradleå‘å¸ƒJavaåº“åˆ°mvnrepository" />

> å¡«å†™Issueè¡¨å•

<LightBox url="https://qiniu.wuchuheng.com/images/howToCreateAJavaLiberyAndPublishToMvn2.png" alt="Gradleå‘å¸ƒJavaåº“åˆ°mvnrepository" />
<LightBox url="https://qiniu.wuchuheng.com/images/howToCreateAJavaLiberyAndPublishToMvn4.png" alt="Gradleå‘å¸ƒJavaåº“åˆ°mvnrepository" />

> Issue åˆ›å»ºæˆåŠŸ

<LightBox url="https://qiniu.wuchuheng.com/images/howToCreateAJavaLiberyAndPublishToMvn5.png" alt="Gradleå‘å¸ƒJavaåº“åˆ°mvnrepository" />
</details>


### 3.3 ç­‰å¾…å®¡æ ¸æœºå™¨äººå›å¤Issue
å¿«çš„è¯å‡ åˆ†é’Ÿï¼Œæ…¢çš„è¯å°±å†ç­‰ç­‰. ğŸ˜‚ğŸ˜‚ğŸ˜‚

### 3.4 æ·»åŠ TXTåŸŸåè§£æ
:::note æ ¹æ®å¸–å­çš„å›å¤å†…å®¹: éœ€è¦ç”¨`wuchuheng.cn`æ·»åŠ ä¸€ä¸ªTXTåŸŸåè§£æ,å‚æ•°å€¼ä¸º:OSSRH-86264

<LightBox url="https://qiniu.wuchuheng.com/images/howToCreateAJavaLiberyAndPublishToMvn6.png" alt="Gradleå‘å¸ƒJavaåº“åˆ°mvnrepository" width={40}/>

:::

> è¿™éœ€è¦å»æ‰¾åŸŸåæœåŠ¡æä¾›å•†è¿›è¡Œè§£æé…ç½®ã€‚æ¯”å¦‚æˆ‘çš„åŸŸåæœåŠ¡æ¥è‡ªé˜¿é‡Œäº‘ï¼ŒåŒç†å°±æ‰¾é˜¿é‡Œäº‘æ·»åŠ ç›¸å…³é…ç½®ã€‚

<details>
    <summary>é˜¿é‡Œäº‘æ·»åŠ TXTè®°å½•ç¤ºä¾‹</summary>
    <LightBox url="https://qiniu.wuchuheng.com/images/howToCreateAJavaLiberyAndPublishToMvn7.png" alt="Gradleå‘å¸ƒJavaåº“åˆ°mvnrepository" />
</details>


### 3.5 å›å¤Issueå¹¶å‘ŠçŸ¥å¯¹æ–¹Txtè®°å½•å·²æ·»åŠ 

<LightBox url="https://qiniu.wuchuheng.com/images/howToCreateAJavaLiberyAndPublishToMvn8.png" alt="Gradleå‘å¸ƒJavaåº“åˆ°mvnrepository" width={40} />

> ç„¶åç­‰å¾…å¯¹æ–¹å›å¤.ä¹Ÿè®¸å‡ åˆ†é’Ÿå§. ğŸ˜‚ğŸ˜‚ğŸ˜‚

### 3.6 å®Œæˆä»“åº“çš„å‘åŒ…è®¸å¯
<LightBox url="https://qiniu.wuchuheng.com/images/howToCreateAJavaLiberyAndPublishToMvn9.png" alt="Gradleå‘å¸ƒJavaåº“åˆ°mvnrepository" width={40} />

> ä»å¯¹æ–¹çš„å›å¤ä¸­ï¼Œæœ¬è´¦å·å·²ç»è¢«å…è®¸ä¸Šä¼ åŒ…åˆ°[`s01.oss.sonatype.org`](https://s01.oss.sonatype.org/)ä¸­ã€‚è€Œåé¢æˆ‘ä»¬åˆ¶ä½œå‡ºæ¥çš„`artifacts`ä¾¿æ˜¯æäº¤åˆ°è¿™ä¸ªä»“åº“ä¸­çš„ã€‚
> è‡³æ­¤ï¼ŒåŒ…çš„å‘å¸ƒæ¸ é“é—®é¢˜ç®—æ˜¯è§£å†³äº†.

## 4 åˆå§‹åŒ–GPGå¯†é’¥ä»¥ç”¨äºå‘åŒ…æ—¶å¯¹åŒ…è¿›è¡ŒåŠ å¯†

:::note ä»€ä¹ˆæ˜¯GPG?ä¸ºä»€ä¹ˆè¦åœ¨å‘åŒ…æ—¶ä½¿ç”¨å®ƒï¼Ÿèµ·åˆ°ä»€ä¹ˆä½œç”¨?

GPGæ˜¯ä¸€ä¸ªéå¯¹ç§°å¯†é’¥ç”Ÿæˆå’Œç®¡ç†å·¥å…·ã€‚å®ƒé€šå¸¸çš„ä¸€ä¸ªä½¿ç”¨æ–¹å¼å°±æ˜¯ç”Ÿæˆå¯†é’¥å¯¹ï¼Œå…¬é’¥å’Œç§é’¥. ç„¶åä½¿ç”¨è€…ä¸Šä¼ å®ƒçš„å…¬é’¥åˆ°å…¬ç½‘ä¸Šå…¬å¸ƒè‡ªå·±çš„å…¬é’¥ä¸ºä»–äººæ‰€çŸ¥,è€Œç§é’¥è‡ªå·±ä¿å­˜ã€‚
ç„¶åå°±å¯ä»¥ç”¨å¦ä¸€ä¸ªç§é’¥ï¼Œå¯¹æ–‡ä»¶è¿›è¡ŒåŠ å¯†ï¼Œç„¶åæŠŠæ–‡ä»¶å‘é€ç»™å…¶ä»–äººï¼Œç”±äºæ˜¯éå¯¹ç§°åŠ å¯†ï¼Œä¸­é—´äººæ— æ³•å¯¹å…¶è¿›è¡Œç¯¡æ”¹ï¼Œè€Œä½¿ç”¨è€…åªéœ€è¦å»ä¸‹è½½å…¬å¸ƒå‡ºæ¥çš„å¯†é’¥å°±å¯ä»¥è§£å¯†æ–‡ä»¶çš„å†…å®¹äº†ã€‚

è€Œä½¿ç”¨åŠ å¯†å°±æ˜¯ä¸ºäº†ç¡®ä¿å‘åŒ…æ—¶ï¼Œä¸è¢«ä¸­é—´äººæ‰€ç¯¡æ”¹ã€‚

:::

### 4.1 ç”Ÿæˆå¯†é’¥

``` sh title="ç”Ÿæˆå¯†é’¥"
$ gpg --generate-key
gpg (GnuPG/MacGPG2) 2.2.40; Copyright (C) 2022 g10 Code GmbH
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.

Note: Use "gpg --full-generate-key" for a full featured key generation dialog.

GnuPG needs to construct a user ID to identify your key.


// highlight-start
Real name: wuchuhengcn # <-- è¾“å…¥ç”¨æˆ·å
Email address: root@wuchuheng.cn # <-- è¾“å…¥é‚®ç®±
// highlight-end

You selected this USER-ID:
    "wuchuhengcn <root@wuchuheng.cn>"

// highlight-start
Change (N)ame, (E)mail, or (O)kay/(Q)uit? o # <-- é€‰æ‹©o
// highlight-end
We need to generate a lot of random bytes. It is a good idea to perform
some other action (type on the keyboard, move the mouse, utilize the
disks) during the prime generation; this gives the random number
generator a better chance to gain enough entropy.
We need to generate a lot of random bytes. It is a good idea to perform
some other action (type on the keyboard, move the mouse, utilize the
disks) during the prime generation; this gives the random number
generator a better chance to gain enough entropy.
gpg: revocation certificate stored as '/Users/wuchuheng/.gnupg/openpgp-revocs.d/30D55DBBAF2D0F957FC5AA9347BF092C7C49CDB8.rev'
public and secret key created and signed.

pub   rsa3072 2022-11-15 [SC] [expires: 2024-11-14]
// highlight-start
      30D55DBBAF2D0F957FC5AA9347BF092C7C49CDB8   #<-- å¯†é’¥æŒ‡çº¹
// highlight-end
uid                      wuchuhengcn <root@wuchuheng.cn>
sub   rsa3072 2022-11-15 [E] [expires: 2024-11-14]
```

:::tip è¾“å…¥ä¿å­˜å¯†é’¥çš„å¯†ç 

åœ¨ç”Ÿæˆçš„å¯†é’¥çš„è¿‡ç¨‹ä¸­è¦æ±‚æ“ä½œäººè¾“å…¥ä¸€ä¸ªå¯†ç ï¼Œç”¨äºä¿å­˜å¯†é’¥ç”¨ï¼Œè¾“å…¥ä¸€ä¸ªï¼Œä¸”ä¸èƒ½å¿˜è®°

:::

### 4.2 æŠŠç”Ÿæˆçš„å¯†é’¥ä¸Šä¼ åˆ°å…¬ç½‘ä¸Š

``` bash title="ä¸Šä¼ å…¬é’¥åˆ°å…¬ç½‘"
$ gpg --keyserver keyserver.ubuntu.com --send-keys [è¾“å…¥æŒ‡çº¹]# <-- ä¸Šä¼ å…¬é’¥åˆ° https://keyserver.ubuntu.com/
gpg: sending key 47BF092C7C49CDB8 to hkp://keyserver.ubuntu.com

$ gpg --keyserver keys.openpgp.org --send-keys [è¾“å…¥æŒ‡çº¹] # <-- ä¸Šä¼ å…¬é’¥åˆ° https://keys.openpgp.org
gpg: sending key 47BF092C7C49CDB8 to hkp://keys.openpgp.org
```

### 4.3 å¯¼å‡ºç§é’¥ç”¨äºå‘å¸ƒæ—¶åŠ å¯†ä½¿ç”¨

> æ³¨æ„: å¯¼å‡ºéœ€è¾“å…¥ç”Ÿæˆå¯†é’¥æ—¶çš„å¯†ç 

``` shell title="å¯¼å‡ºç§é’¥ä¿å­˜äº~/root@wuchuheng.cn.gpg"
$ gpg --export-secret-keys 30D55DBBAF2D0F957FC5AA9347BF092C7C49CDB8 > ~/root@wuchuheng.cn.gpg
```

## 5 åˆå§‹åŒ–javaåŒ…

``` shell
// highlight-start
$ mkdir cn.wuchuheng.tmp # <-- åˆ›å»ºç©ºç›®å½•
$ cd cn.wuchuheng.tmp # <-- è¿›å…¥ç›®å½•
$ gradle init # <-- å¼€å§‹åˆå§‹åŒ–gradleé¡¹ç›®
// highlight-end
Starting a Gradle Daemon (subsequent builds will be faster)

Select type of project to generate:
  1: basic
  2: application
  3: library
  4: Gradle plugin
// highlight-start
Enter selection (default: basic) [1..4] 3 # <-- é€‰æ‹© libery
// highlight-end

Select implementation language:
  1: C++
  2: Groovy
  3: Java
  4: Kotlin
  5: Scala
  6: Swift
// highlight-start
Enter selection (default: Java) [1..6] 3 #<-- é€‰æ‹©java
// highlight-end

Select build script DSL:
  1: Groovy
  2: Kotlin
// highlight-start
Enter selection (default: Groovy) [1..2] 1
// highlight-end

// highlight-start
Generate build using new APIs and behavior (some features may change in the next minor release)? (default: no) [yes, no] #<-- å›è½¦é»˜è®¤
// highlight-end
Select test framework:
  1: JUnit 4
  2: TestNG
  3: Spock
  4: JUnit Jupiter
// highlight-start
Enter selection (default: JUnit Jupiter) [1..4]
Please enter a value between 1 and 4: 4 #<-- é€‰æ‹© JUnit Jupiter
// highlight-end

// highlight-start
Project name (default: cn.wuchuheng.tmp):  # <-- å›è½¦
// highlight-end

Source package (default: cn.wuchuheng.tmp):


> Task :init
Get more help with your project: https://docs.gradle.org/7.5.1/samples/sample_building_java_libraries.html

BUILD SUCCESSFUL in 23h 53m 5s

// highlight-start
$ git init # <-- åˆå§‹åŒ–gité¡¹ç›®
$ g add -A # <-- æŠŠå…¨éƒ¨æ–‡ä»¶æ·»åŠ åˆ°gitä¸­
$ g commit -m init # <-- æäº¤ä¸‹git
// highlight-end
[master (root-commit) 32cf1cc] init
 10 files changed, 418 insertions(+)
 create mode 100644 .gitattributes
 create mode 100644 .gitignore
 create mode 100644 gradle/wrapper/gradle-wrapper.jar
 create mode 100644 gradle/wrapper/gradle-wrapper.properties
 create mode 100755 gradlew
 create mode 100644 gradlew.bat
 create mode 100644 lib/build.gradle
 create mode 100644 lib/src/main/java/cn/wuchuheng/tmp/Library.java
 create mode 100644 lib/src/test/java/cn/wuchuheng/tmp/LibraryTest.java
 create mode 100644 settings.gradle
```

<details>
<summary>åˆå§‹åŒ–åçš„gradleåº“é¡¹ç›®ç›®å½•ç»“æ„</summary>

``` shell
.
â”œâ”€â”€ gradle
â”‚     â””â”€â”€ wrapper
â”‚         â”œâ”€â”€ gradle-wrapper.jar
â”‚         â””â”€â”€ gradle-wrapper.properties
â”œâ”€â”€ gradlew
â”œâ”€â”€ gradlew.bat
â”œâ”€â”€ lib
â”‚     â”œâ”€â”€ build.gradle
â”‚     â””â”€â”€ src
â”‚         â”œâ”€â”€ main
â”‚         â”‚     â”œâ”€â”€ java
â”‚         â”‚     â”‚     â””â”€â”€ cn
â”‚         â”‚     â”‚         â””â”€â”€ wuchuheng
â”‚         â”‚     â”‚             â””â”€â”€ tmp
â”‚         â”‚     â”‚                 â””â”€â”€ Library.java
â”‚         â”‚     â””â”€â”€ resources
â”‚         â””â”€â”€ test
â”‚             â”œâ”€â”€ java
â”‚             â”‚     â””â”€â”€ cn
â”‚             â”‚         â””â”€â”€ wuchuheng
â”‚             â”‚             â””â”€â”€ tmp
â”‚             â”‚                 â””â”€â”€ LibraryTest.java
â”‚             â””â”€â”€ resources
â””â”€â”€ settings.gradle

```

</details>

## 6 å‘å¸ƒç›¸å…³åŒ…çš„é…ç½®

### 6.1 é…ç½®Gradleé…ç½®æ–‡ä»¶

ç”¨`idea`æ‰“å¼€é¡¹ç›®ï¼Œç„¶åé…ç½®`lib/build.gradle`.

``` groovy title="lib/build.gradle"
/*
 * This file was generated by the Gradle 'init' task.
 *
 * This generated file contains a sample Java library project to get you started.
 * For more details take a look at the 'Building Java & JVM projects' chapter in the Gradle
 * User Manual available at https://docs.gradle.org/7.5.1/userguide/building_java_projects.html
 */

plugins {
    // Apply the java-library plugin for API and implementation separation.
    id 'java-library'
    // highlight-start
    // 1 æ·»åŠ ç›¸å…³æ’ä»¶
    id 'maven-publish'
    id 'signing'
    // highlight-end
}

// highlight-start
// 2 å®šä¹‰è¦å‘è¡Œçš„ç‰ˆæœ¬å·
version = "0.0.1"
// highlight-end

repositories {
    // Use Maven Central for resolving dependencies.
    mavenCentral()
}

// highlight-start
publishing {
    // 3 å‘è¡Œçš„åŒ…çš„ç›¸å…³ä¿¡æ¯è¯´æ˜
    publications {
        mavenJava(MavenPublication) {
            // è¿™ä¸ªå¡«å†™æˆ‘ä»¬ç”³è¯·çš„groupId,å³: cn.wuchuheng
            groupId ="cn.wuchuheng"
            // è¿™ä¸ªæ˜¯åˆ¶å“id, èµ·åˆ°åŒ…åçš„ä½œç”¨
            artifactId = "tmp"
            from(components["java"])
            pom {
                // åŒartifactIdä¸€æ ·å³å¯
                name.set("tmp")
                description.set("åº“çš„ä½¿ç”¨ç®€è¦è¯´æ˜...")
                url.set("https://wuchuheng.cn") // åº“çš„å®˜æ–¹æ–‡æ¡£
                inceptionYear.set("2022")
                developers {
                    developer {
                        // å¼€å‘è€…ä¿¡æ¯
                        id.set("wuchuhengcn")
                        name.set("wuchuhengcn")
                        email.set("root@wuchuheng.cn")
                    }
                }
                // åè®®ä¿¡æ¯
                licenses {
                    license {
                        name.set("MIT")
                        url.set("https://github.com/wuchuheng/gradle-libery-demo-java")
                        distribution.set("repo")
                    }
                }
                // æºä»£ç ä»“åº“ä¿¡æ¯
                scm {
                    url.set("https://github.com/wuchuheng/gradle-libery-demo-java")
                    connection.set("scm:git:git@github.com:wuchuheng/gradle-libery-demo-java.git")
                    developerConnection.set("scm:git:ssh:git@github.com:wuchuheng/gradle-libery-demo-java.git")
                }
            }
        }
    }
    repositories {
        // 4 è¦ä¸Šä¼ çš„ä»“åº“ä¿¡æ¯
        maven {
            name = "OSSRH"
            credentials {
                username = "wuchuhengcn"
                password = "[å†™ä¸Šä»“åº“çš„å¯†ç ]"
            }
            // æ ¹æ®ç‰ˆæœ¬åä¸­æ˜¯å¦ä»¥"SNAPSHOT"ä¸ºç»“å°¾ï¼Œåˆ™ä¸Šä¼ åˆ°"SNAPSHOT"ä»“åº“ï¼Œé€šå¸¸ä½œä¸ºå¼€å‘æµ‹è¯•ä½¿ç”¨ï¼Œåä¹‹åˆ™æ­£å¼ç‰ˆæœ¬ä½¿ç”¨
            if (project.version.toString().endsWith("-SNAPSHOT")) {
                url = "https://s01.oss.sonatype.org/content/repositories/snapshots"
            } else {
                url = "https://s01.oss.sonatype.org/service/local/staging/deploy/maven2/"
            }
        }
    }
}

signing {
    sign(publishing.publications.mavenJava)
}
java {
    withJavadocJar()
    withSourcesJar()
}

// ç”Ÿæˆæ–‡æ¡£ã€‚åœ¨ä¸Šä¼ åŒ…æ—¶ï¼Œæœ‰æ–‡æ¡£åŒ…å«è¦æ±‚ã€‚
javadoc {
    options.addStringOption("charset", "UTF-8")
    if (JavaVersion.current().isJava9Compatible()) {
        options.addBooleanOption('html5', true)
    }
}

// highlight-end

dependencies {
    // Use JUnit Jupiter for testing.
    testImplementation 'org.junit.jupiter:junit-jupiter:5.8.2'

    // This dependency is exported to consumers, that is to say found on their compile classpath.
    api 'org.apache.commons:commons-math3:3.6.1'

    // This dependency is used internally, and not exposed to consumers on their own compile classpath.
    implementation 'com.google.guava:guava:31.0.1-jre'
}

tasks.named('test') {
    // Use JUnit Platform for unit tests.
    useJUnitPlatform()
}

```

> é…ç½®å¥½åå°±ç‚¹å‡»é‡ç½®å³ä¸Šè§’çš„`gradle`çš„é‡è½½é…ç½®æŒ‰é”®ï¼Œä½¿é…ç½®ç”Ÿæ•ˆ.

<details>
    <summary>æ“ä½œæˆªå›¾</summary>
    <LightBox url="https://qiniu.wuchuheng.com/howToPublishJavaLiberyToMvn11.png" alt="Gradleå‘å¸ƒJavaåº“åˆ°mvnrepository" width={40}/>
</details>

### 6.1 ç¼–å†™åŒ…çš„ä»£ç 

``` java title="lib/src/main/java/cn/wuchuheng/tmp/Library.java"
/*
 * This Java source file was generated by the Gradle 'init' task.
 */
package cn.wuchuheng.tmp;

/**
 * Library {
 */
public class Library {
    Library(){}
    /**
     *  Print message.
     */
    public void printMessage() {
        System.out.print("Are you ok?");
    }

    /**
     * someLibraryMethod
     *
     * @return boolean
     */
    public boolean someLibraryMethod() {
        return true;
    }
}
```


## 7 æ‰‹åŠ¨å‘å¸ƒ

### 7.1 ç”Ÿæˆå‘å¸ƒåŒ…
``` shell title="é¡¹ç›®æ ¹ç›®å½•ä¸‹"
$  ./gradlew buildg # <-- æ‰“åŒ…
```

<details>
<summary>æ‰“åŒ…å‡ºæ¥çš„æ–‡ä»¶</summary>

```bash title="lib/build"
.
â”œâ”€â”€ classes
â”‚         â””â”€â”€ java
â”‚             â”œâ”€â”€ main
â”‚             â”‚         â””â”€â”€ cn
â”‚             â”‚             â””â”€â”€ wuchuheng
â”‚             â”‚                 â””â”€â”€ tmp
â”‚             â”‚                     â””â”€â”€ Library.class
â”‚             â””â”€â”€ test
â”‚                 â””â”€â”€ cn
â”‚                     â””â”€â”€ wuchuheng
â”‚                         â””â”€â”€ tmp
â”‚                             â””â”€â”€ LibraryTest.class
â”œâ”€â”€ docs
â”‚         â””â”€â”€ javadoc
â”‚             â”œâ”€â”€ allclasses-index.html
â”‚             â”œâ”€â”€ allpackages-index.html
â”‚             â”œâ”€â”€ cn
â”‚             â”‚         â””â”€â”€ wuchuheng
â”‚             â”‚             â””â”€â”€ tmp
â”‚             â”‚                 â”œâ”€â”€ Library.html
â”‚             â”‚                 â”œâ”€â”€ package-summary.html
â”‚             â”‚                 â””â”€â”€ package-tree.html
â”‚             â”œâ”€â”€ copy.svg
â”‚             â”œâ”€â”€ element-list
â”‚             â”œâ”€â”€ help-doc.html
â”‚             â”œâ”€â”€ index-all.html
â”‚             â”œâ”€â”€ index.html
â”‚             â”œâ”€â”€ jquery-ui.overrides.css
â”‚             â”œâ”€â”€ legal
â”‚             â”‚         â”œâ”€â”€ COPYRIGHT
â”‚             â”‚         â”œâ”€â”€ LICENSE
â”‚             â”‚         â”œâ”€â”€ jquery.md
â”‚             â”‚         â””â”€â”€ jqueryUI.md
â”‚             â”œâ”€â”€ member-search-index.js
â”‚             â”œâ”€â”€ module-search-index.js
â”‚             â”œâ”€â”€ overview-tree.html
â”‚             â”œâ”€â”€ package-search-index.js
â”‚             â”œâ”€â”€ resources
â”‚             â”‚         â”œâ”€â”€ glass.png
â”‚             â”‚         â””â”€â”€ x.png
â”‚             â”œâ”€â”€ script-dir
â”‚             â”‚         â”œâ”€â”€ jquery-3.6.0.min.js
â”‚             â”‚         â”œâ”€â”€ jquery-ui.min.css
â”‚             â”‚         â””â”€â”€ jquery-ui.min.js
â”‚             â”œâ”€â”€ script.js
â”‚             â”œâ”€â”€ search-page.js
â”‚             â”œâ”€â”€ search.html
â”‚             â”œâ”€â”€ search.js
â”‚             â”œâ”€â”€ stylesheet.css
â”‚             â”œâ”€â”€ tag-search-index.js
â”‚             â””â”€â”€ type-search-index.js
â”œâ”€â”€ generated
â”‚         â””â”€â”€ sources
â”‚             â”œâ”€â”€ annotationProcessor
â”‚             â”‚         â””â”€â”€ java
â”‚             â”‚             â”œâ”€â”€ main
â”‚             â”‚             â””â”€â”€ test
â”‚             â””â”€â”€ headers
â”‚                 â””â”€â”€ java
â”‚                     â”œâ”€â”€ main
â”‚                     â””â”€â”€ test
â”œâ”€â”€ libs
â”‚         â”œâ”€â”€ lib-0.0.1-javadoc.jar
â”‚         â”œâ”€â”€ lib-0.0.1-sources.jar
â”‚         â””â”€â”€ lib-0.0.1.jar
â”œâ”€â”€ reports
â”‚         â””â”€â”€ tests
â”‚             â””â”€â”€ test
â”‚                 â”œâ”€â”€ classes
â”‚                 â”‚         â””â”€â”€ cn.wuchuheng.tmp.LibraryTest.html
â”‚                 â”œâ”€â”€ css
â”‚                 â”‚         â”œâ”€â”€ base-style.css
â”‚                 â”‚         â””â”€â”€ style.css
â”‚                 â”œâ”€â”€ index.html
â”‚                 â”œâ”€â”€ js
â”‚                 â”‚         â””â”€â”€ report.js
â”‚                 â””â”€â”€ packages
â”‚                     â””â”€â”€ cn.wuchuheng.tmp.html
â”œâ”€â”€ test-results
â”‚         â””â”€â”€ test
â”‚             â”œâ”€â”€ TEST-cn.wuchuheng.tmp.LibraryTest.xml
â”‚             â””â”€â”€ binary
â”‚                 â”œâ”€â”€ output.bin
â”‚                 â”œâ”€â”€ output.bin.idx
â”‚                 â””â”€â”€ results.bin
â””â”€â”€ tmp
â”œâ”€â”€ compileJava
â”‚         â””â”€â”€ previous-compilation-data.bin
â”œâ”€â”€ compileTestJava
â”‚         â””â”€â”€ previous-compilation-data.bin
â”œâ”€â”€ jar
â”‚         â””â”€â”€ MANIFEST.MF
â”œâ”€â”€ javadoc
â”‚         â””â”€â”€ javadoc.options
â”œâ”€â”€ javadocJar
â”‚         â””â”€â”€ MANIFEST.MF
â”œâ”€â”€ sourcesJar
â”‚         â””â”€â”€ MANIFEST.MF
â””â”€â”€ test

47 directories, 52 files

```


</details>


### 7.2 ä¸Šä¼ åˆ°ä»“åº“ä¸­
åœ¨å‘åŒ…æ—¶éœ€è¦é‡‡ç”¨`GPG`åŠ å¯†æ¥å‘å¸ƒã€‚ éœ€è¦ä½¿ç”¨3ä¸ªå‚æ•°:
* `Psigning.keyId`: `GPG`çš„æŒ‡çº¹çš„å8ä½æ•°å¦‚: å¦‚æœ¬æ–‡ç”Ÿæˆçš„æŒ‡çº¹ä¸º: 30D55DBBAF2D0F957FC5AA9347BF092C7C49CDB8ï¼Œ å8ä½åˆ™æ˜¯: 7C49CDB8
* `Psigning.password`: `GPG`çš„ç§é’¥çš„å¯†ç ï¼Œç”¨äºä¿æŠ¤ç§é’¥,ä½¿ç”¨æ—¶å¿…é¡»è¦æœ‰å¯†ç é…åˆä½¿ç”¨æ‰è¡Œ
* `-Psigning.secretKeyRingFile`: `GPG`çš„ç§é’¥çš„è·¯å¾„ï¼Œæœ¬æ–‡è¿™ç§é’¥å¯¼å‡ºä¸º`~/root@wuchuheng.cn.gpg`

> ä½¿ç”¨`GPG`åŠ å¯†å°±æ˜¯ä¸ºäº†é˜²æ­¢åœ¨å‘å¸ƒæ—¶ï¼Œè¢«ä¸­é—´æ–¹ç§è‡ªç¯¡æ”¹ã€‚

``` bash title="é¡¹ç›®è¦ç›®å½•ä¸‹"
$ gradle publish -Psigning.keyId=7C49CDB8 -Psigning.password=[å¯†é’¥çš„å¯†ç ] -Psigning.secretKeyRingFile=$(echo ~/root@wuchuheng.cn.gpg)
BUILD SUCCESSFUL in 24s
9 actionable tasks: 3 executed, 6 up-to-date
```

### 7.3 å»ä»“åº“åå°æŸ¥çœ‹åˆšä¸Šä¼ çš„åŒ…

è¿˜è®°å¾—è´¦å·ç”³è¯·é€šè¿‡æ—¶ï¼Œå¯¹æ–¹æ˜¯æ€ä¹ˆå›å¤æˆ‘ä»¬çš„å—ï¼Ÿ
> Congratulations! Welcome to the Central Repository!
> cn.wuchuheng has been prepared, now user(s) wuchuhengcn can:
> Publish snapshot and release artifacts to [s01.oss.sonatype.org](https://s01.oss.sonatype.org)
> Have a look at this section of our official guide for deployment instructions:

æ˜¯çš„ï¼Œå®ƒè®©æˆ‘ä»¬æŠŠåŒ…ä¸Šä¼ åˆ°è¿™ä¸ª[s01.oss.sonatype.org](https://s01.oss.sonatype.org/), æˆ‘ä»¬å·²ç»åšäº†;è€ŒåŒæ ·çš„è¿™ä¸ªé“¾æ¥ä¹Ÿæ˜¯ä»“åº“çš„åå°ï¼Œ
ä½¿ç”¨æˆ‘ä»¬çš„ä¹‹å‰æ³¨å†Œçš„è´¦å·(wuchuhengcn)å°±èƒ½ç™»å½•ä¸Šå»ï¼ŒæŸ¥çœ‹æˆ‘ä»¬åˆšæ‰ä¸Šä¼ çš„åŒ…äº†

<LightBox url="https://qiniu.wuchuheng.com/howToPublishJavaLiberyToMvn12.png" alt="" width={40} />

<LightBox url="https://qiniu.wuchuheng.com/howToPublishJavaLiberyToMvn13.png" alt="" width={40} />


:::warning

è€Œåœ¨è¿™ä¸ªé˜¶æ®µå½“ä¸­ï¼Œä¸Šä¼ çš„åŒ…è¿˜åªæ˜¯å¾…ç¡®å®šçŠ¶æ€ã€‚åé¢è¿˜è¦ç»è¿‡ä¸€ç¡®å®šå’Œæµ‹è¯•æ‰èƒ½å‘å¸ƒã€‚

:::

### 7.4 æ­£å¼å‘å¸ƒ
æ­£åœ¨ç¦»æˆ‘ä»¬ä¸Šä¼ çš„åŒ…æ­£å¼å‘å¸ƒåªéœ€:
* é€‰ä¸Šä¼ çš„ä¸­åŒ…
* ä¿å­˜åœ¨ossä¸´æ—¶åº“ä¸­(åœ¨è¿™ä¸€é˜¶æ®µå¯ä»¥ä»è¯¥ä»“åº“ä¸­æŠŠåŒ…ä¸‹è½½å›æ¥æµ‹è¯•ç­‰å·¥ä½œ)
* æ­£å¼å‘å¸ƒ

<details>
<summary>é€‰ä¸Šä¼ çš„ä¸­åŒ…å¹¶ä¿å­˜åˆ°ä¸´æ—¶ä»“åº“ä¸­</summary>
<LightBox url="https://qiniu.wuchuheng.com/howToPublishJavaLiberyToMvn14.png" alt="" width={40} />
<LightBox url="https://qiniu.wuchuheng.com/howToPublishJavaLiberyToMvn15.png" alt="" width={40} />

> ç­‰å¾…å¤„ç†çš„çŠ¶æ€ä¸º"ç¡®å®š"æ—¶, åŒ…å°±ä¼šè¢«æ”¾ç½®åœ¨ä¸€ä¸ªä¸´æ—¶çš„ä»“åº“ä¸­. å¹¶æä¾›ä»“åº“çš„é“¾æ¥ï¼Œä¾›å¼€å‘è€…æŠŠåŒ…ä¸‹è½½å›æ¥å¹¶è¿›è¡Œæµ‹è¯•ç­‰å¼€å‘å·¥ä½œã€‚

</details>

<details>

<summary>ç¡®è®¤å‘å¸ƒ</summary>

> è¦æ˜¯çœŸçš„æ²¡ä»€ä¹ˆé—®é¢˜äº†ï¼Œ é‚£ä¹ˆå°±å‘å¸ƒå§

<LightBox url="https://qiniu.wuchuheng.com/howToPublishJavaLiberyToMvn16.png" alt="" width={40} />

> åˆ°è¿™æ—¶ï¼Œ [https://repo1.maven.org/maven2/cn/wuchuheng/ ](https://repo1.maven.org/maven2/cn/wuchuheng/)å°±æ˜¯æˆ‘ä»¬ä¸Šä¼ çš„åŒ…äº†ï¼Œç°åœ¨å…¶å®ƒçš„å¼€å‘è€…ä¹Ÿéƒ½å¯ä»¥ä½¿ç”¨æˆ‘ä»¬ä¸Šä¼ çš„åŒ…äº†ã€‚
>  è€Œ[mvnrepository](https://mvnrepository.com/repos/central)å½“ç„¶ä¹Ÿæ˜¯ä¼šæ”¶å½•è¿™ä¸ªåŒ…çš„ã€‚

</details>

## 8 åç»­å°æ”¹åŠ¨

### 8.1 è§£å†³`lib/build.gradle`é…ç½®ä¸­è´¦å·æš´éœ²é—®é¢˜
å¦‚æœæˆ‘ä»¬æŠŠè´¦å·å’Œå¯†ç å†™è¿›`lib/build.gradle`ä¸­è€Œåæäº¤åˆ°ä»£ç ä¸­ï¼Œè‚¯å®šæ˜¯ä¸è¡Œçš„ã€‚è§£å†³è¿™ä¸€é—®é¢˜ï¼Œå¯ä»¥ç”¨ç¯å¢ƒå˜é‡æ¥è§£å†³ã€‚

``` groovy title="ç”¨ç¯å¢ƒå˜é‡æ›¿ä»£è´¦å·å’Œå¯†ç "

...
// 4 è¦ä¸Šä¼ çš„ä»“åº“ä¿¡æ¯
        maven {
            name = "OSSRH"
            credentials {
                username = System.getenv("OSSRH_USERNAME")
                password = System.getenv("OSSRH_PASSWORD")
            }
...
```

``` shell title="è€Œä¸Šä¼ åŒ…æ—¶ï¼Œéœ€è¦ç”¨å¯†ç æ—¶ï¼Œåˆ™æŠŠè´¦å·å¯†ç èµ‹å€¼ç»™ç¯å¢ƒå˜é‡"
OSSRH_USERNAME="[ä»“åº“çš„è´¦å·]" OSSRH_PASSWORD="[ä»“åº“çš„å¯†ç ]" gradle publish -Psigning.keyId=7C49CDB8 -Psigning.password=[å¯†é’¥çš„å¯†ç ] -Psigning.secretKeyRingFile=$(echo ~/root@wuchuheng.cn.gpg)
```
å¥½äº†ï¼Œåˆ°äº†è¿™ä¸€æ­¥ï¼Œæˆ‘ä»¬ç»ˆäºå¯ä»¥æ”¾å¿ƒåœ°æäº¤ä»£ç è€Œä¸ç”¨æ‹…å¿ƒè´¦å·è¢«æ³„æ¼çš„é—®é¢˜äº†ã€‚
``` shell
$ git commit -m 'feat: å®ç°å‘å¸ƒåˆ¶å“åˆ°OSSRH'
[master f435998] feat: å®ç°å‘å¸ƒåˆ¶å“åˆ°OSSRH
 3 files changed, 95 insertions(+)
```

### 8.2 è‡ªåŠ¨ä¸Šä¼ åˆ¶å“ï¼Œé¿å…åå¤æ‰‹åŠ¨ä¸Šä¼ çš„é—®é¢˜
æˆ‘ä»¬å¯ä»¥é€šè¿‡`Github action`çš„æµç¨‹åŒ–`CI/CD`ï¼Œæ¥å¸®åŠ©æˆ‘ä»¬è‡ªåŠ¨æäº¤åˆ¶å“,ä»è€Œé¿å…æ‰‹åŠ¨æ“ä½œè¿™ç§å®¹æ˜“å‡ºé”™ä¸”ç¹ççš„æ“ä½œã€‚

<details>
<summary>Step 1: é…ç½®Github action workflows è„šæœ¬</summary>

```yaml title=".github/workflows/publishArtifact.yml"
name: Publish package to the Maven Central Repository

#  æ„å»ºè§¦å‘æ¡ä»¶ä¸ºæºä»£ç ç‰ˆæœ¬å·å˜åŠ¨
on:
  push:
    tags:
      - '**'
jobs:
  publish:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - name: Set up JDK 71
        uses: actions/setup-java@v2
        with:
          java-version: "17"
          distribution: "adopt"
      - name: Grant execute permission for gradlew
        run: chmod +x gradlew
      - name: Build with Gradle
        run: ./gradlew build
      - name: Decode
        run: |
          echo "${{secrets.GPG_SIGNING_SECRET_KEY_BASE64}}" > ~/.gradle/secring.gpg.base64
          base64 -d ~/.gradle/secring.gpg.base64 > ~/.gradle/secring.gpg
      - name: Publish package
        run: gradle publish  -Psigning.keyId=${{secrets.GPG_SIGNING_KEY_ID}} -Psigning.password=${{secrets.GPG_SIGNING_KEY_PASSWORD}} -Psigning.secretKeyRingFile=$(echo ~/.gradle/secring.gpg)
        env:
          OSSRH_USERNAME: ${{ secrets.OSSRH_USERNAME }}
          OSSRH_PASSWORD: ${{ secrets.OSSRH_PASSWORD }}

```
</details>

<details>
    <summary>Step 2: GPGç§é’¥è½¬ç ä¸ºbase64æ–‡æœ¬å¹¶ç”¨äºæµç¨‹åŒ–è„šæœ¬ä¸­çš„å˜é‡ä½¿ç”¨</summary>

``` shell
$ base64 ~/root@wuchuheng.cn.gpg
lQWGBGNzbw0BDADJG0gP5wpw6PFV4Egyvhzssa/YFaeDP+LeW...base64æ–‡æœ¬...k4jlW8g=

```

</details>

<details>
<summary>Step 3: é…ç½®Github action workflowsè„šæœ¬çš„å˜é‡</summary>
<LightBox url="https://qiniu.wuchuheng.com/howToPublishJavaLiberyToMvn17.png" alt="" width={40} />

>  å½“å‰ç¤ºä¾‹çš„æºä»£ç éƒ½åœ¨[gradle-libery-demo-java](https://github.com/wuchuheng/gradle-libery-demo-java)ä¸­.
>  æäº¤ä¸‹å½“å‰çš„ä¿®æ”¹,

``` bash
$ git add .github/workflows/publishArtifact.yml
$ git commit -m "chore: æ·»åŠ github workflows."
```

</details>

<details>
    <summary>Step 4: æäº¤ç‰ˆæœ¬å·ç„¶åæ¨é€ä»£ç å¹¶è§¦å‘æ„å»ºè„šæœ¬</summary>

```yaml title="æ›´æ–°lib/build.gradleç‰ˆæœ¬å·"
...
// 2 å®šä¹‰è¦å‘è¡Œçš„ç‰ˆæœ¬å·
version = "0.0.4"
...
```


```bash title="æäº¤ã€æ‰“ä¸Šç‰ˆæœ¬å·å¹¶æ¨é€ä»£ç è§¦å‘æ„å»ºè„šæœ¬"
$ git add -A
$ git commit -m "version: 0.0.4"
$ git tag 0.0.4
$ git push origin master # <-- æ¨é€ä»£ç 
$ git push 0.0.4 # <-- æ¨é€ç‰ˆæœ¬å·ä¸”æºä»£ç çš„ç‰ˆæœ¬å·å˜åŠ¨ä¼šè§¦å‘æ„å»ºæµç¨‹
```

</details>

<details>
    <summary>Final step: æŸ¥çœ‹æµç¨‹æ‰§è¡Œçš„ç»“æœ</summary>
    <LightBox url="https://qiniu.wuchuheng.com/howToCreateAJavaLiberyAndPublishToMvn18.png" alt="" width={40} />
    <LightBox url="https://qiniu.wuchuheng.com/howToCreateAJavaLiberyAndPublishToMvn19.png" alt="" width={40} />
</details>

### 8.3 å…³é—­sonatype(OSSRH)Issue
åˆ°äº†è¿™ä¸€æ­¥ï¼Œæˆ‘ä»¬åˆ›å»º`issue`å…¶ç›®çš„æ˜¯è¦åˆ›å»ºä¸€ä¸ªå¼€æºã€èƒ½å‘å¸ƒçš„é¡¹ç›®å‡ºæ¥ï¼Œç°åœ¨æˆ‘ä»¬å·²ç»åšåˆ°äº†ï¼Œè€Œè¿™ä¸ª`issue`ä¹Ÿå°±åˆ°äº†å…³é—­çš„æ—¶å€™äº†ã€‚

<details>
    <summary>æ“ä½œæˆªå›¾</summary>
<LightBox url="https://qiniu.wuchuheng.com/howToCreateAJavaLiberyAndPublishToMvn20.png" alt="" width={40} />
</details>

## 9 é‡è¦å‚æ•°åˆé›†

<details>
<summary>5.1 snonatype è´¦å·</summary>

- OSSRHè´¦å·: root@wuchuheng.cn
- OSSRHå¯†ç : (ä¸èƒ½è¯´)
- groupID: cn.wuchuheng

> æ³¨æ„: å‘å¸ƒæ—¶éœ€è¦ä½¿ç”¨

</details>


<details>
    <summary>5.2 gpg å¯†é’¥</summary>

- GPGæŒ‡çº¹: 30D55DBBAF2D0F957FC5AA9347BF092C7C49CDB8
- GPGç§é’¥ä¿å­˜å¯†ç : (ä¸èƒ½è¯´)
- GPGç§é’¥: ~/root@wuchuheng.cn.gpg

> æ³¨æ„: å‘å¸ƒæ—¶éœ€è¦ä½¿ç”¨

</details>


## 10 å°ç»“

æ€»ä½“æ¥è¯´,æƒ³è¦ä»0å»å‘å¸ƒä¸€ä¸ª`java`çš„`package`ï¼Œå…¶è¿‡ç¨‹æ­¥éª¤è¿˜æ˜¯æ¯”è¾ƒç¹æ‚çš„ã€‚ä½†å…¶ä¸»å¹²æ­¥éª¤ä¹Ÿå°±4æ­¥ï¼Œåˆ†åˆ«:

1. åˆ›å»º`OSSRH`è´¦å·å’Œé¡¹ç›®
2. åˆ¶ä½œ`GPG`å¯†é’¥ç­‰
3. åˆå§‹åŒ–ä¸€ä¸ª`java`åº“
4. ç”¨æˆ·`GPG`åŠ å¯†å’Œä½¿ç”¨`OSSRH`è´¦å·æŠŠåº“å‘å¸ƒå‡ºå»

æœ€åæœ¬æ–‡çš„ç¤ºä¾‹ä»£ç æ”¾åœ¨æ–‡ä¸­çš„æœ€åï¼Œå¸Œæœ›èƒ½ä¸ºä½ æä¾›ä¸ªå‚è€ƒç”¨ã€‚

## 11 Q&A

### 11.1 ä¸ºä»€ä¹ˆè¦åœ¨é…ç½®ä¸­æœ‰2ä¸ªæ¨çš„é“¾æ¥?
2æ¡é“¾æ¥åˆ†åˆ«æ˜¯:
* https://s01.oss.sonatype.org/content/repositories/snapshots
* https://s01.oss.sonatype.org/service/local/staging/deploy/maven2/

ä»–ä»¬ä¹‹é—´çš„æœ€å¤§çš„åŒºåˆ«å°±æ˜¯å¾€`snapshots`è¿™ä¸ªæ¨é€æ—¶ï¼ŒåŒ…çš„ç‰ˆæœ¬å·æ˜¯å¯ä»¥è¦†ç›–çš„ï¼Œ è€Œå¦ä¸€ä¸ªæ¡åˆ™ä¸è¡Œã€‚ å¯ä»¥è¦†ç›–çš„ä»“åº“å¯ä»¥å¾ˆå¥½è§£å†³å¼€å‘æ—¶ï¼Œå¯¹åŒä¸€ä¸ªç‰ˆæœ¬å·
çš„å¤šæ¬¡æäº¤ï¼Œæ¯”å¦‚è¯´æˆ‘å¼€å‘`0.0.1`ç‰ˆæœ¬æ—¶ï¼Œå·²ç»ä¸Šä¼ äº†ï¼Œè€Œæµ‹è¯•äººå‘˜åœ¨ä½¿ç”¨æ—¶å‘ç°äº†é—®é¢˜æ—¶ï¼Œè¿™æ—¶æˆ‘ä¿®å¤å¥½é—®é¢˜åï¼Œåˆå¯ä»¥é‡æ–°ä¸Šä¼ åŒæ ·çš„`0.0.1`ç‰ˆæœ¬ï¼Œè€Œä¸ç”¨
å†æ¬¡è¿­ä»£ä¸€ä¸ªç‰ˆæœ¬å·ã€‚

## 12 å‚è€ƒèµ„æ–™

* [Gradle å°† Java ç±»åº“å‘å¸ƒåˆ° Maven ä¸­å¿ƒä»“åº“](https://segmentfault.com/a/1190000040411812?u_atoken=39db0774-68e5-4017-8d1d-4e5a77d7bef8&u_asession=01RX42zUhbaLhLbMGGXawkRYVCEI2seql81EOlIQyrN8H_hSulNkJwDLVvJT2dme_wX0KNBwm7Lovlpxjd_P_q4JsKWYrT3W_NKPr8w6oU7K9954p5BlAeQ1BAxrE-CNYBXrFRrFEwkAXlkkWTaFgeRmBkFo3NEHBv0PZUm6pbxQU&u_asig=05_QksrQ7iDyD_0_R2DPmHbl1vu7S2qr99Pc_cJ52FdA5YvSKqdQtPcJmOG21h4tM8BOdrfn3oOb_LVsfRM01MhoBbAZsDKGsh5gAttD6yn_5lkUoNXXWCIEgPkK9x-xvGfzTPG0E_sVEccifWxj8L395sOf1VkStI3YrW4yvnMPv9JS7q8ZD7Xtz2Ly-b0kmuyAKRFSVJkkdwVUnyHAIJzc3ChDeLVnL7d7qdeLky1nb6pcNPnRNHXFGHz5V_OAA-7DOpsDkA_bmTlLhsyWRKzO3h9VXwMyh6PgyDIVSG1W_zHWrR6Je6anami5oj0wz4XMLExHdtQofSCYzmLqspAuHAX5GcOD-ccH6MM0TMYDQWY-zeVmeUWXJE_Fj-YFgimWspDxyAEEo4kbsryBKb9Q&u_aref=%2B8m1isFAxzFaw4ZkwIl6WVoNWZQ%3D)
* [å‘å¸ƒè‡ªå·±çš„ jar åŒ…åˆ° Maven ä¸­å¤®ä»“åº“ ( mvnrepository.com )](https://woodwhales.cn/2021/09/19/083/)
* [mavenæœç´¢](https://search.maven.org/)
* [æœ¬æ–‡æ¼”ç¤ºçš„æºä»£ç gradle-libery-demo-java](https://github.com/wuchuheng/gradle-libery-demo-java)

