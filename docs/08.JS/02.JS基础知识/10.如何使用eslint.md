---
title: 10.如何使用eslint
tags:
- Observable
- Observable
- Async
categories:
- JS
date: 2022-06-26 08:19:00
---


## 1 什么是`eslint`?

`eslint`是一个代码规范约束工具,能根据开发者的代码规范配置文件去分析开发者写的代码,从中排查出不规范或错误的代码.


## 2 代码示例

### 2.1 初始化`react`项目

``` bash
$ pnpx create-react-app my-app --template typescript  # 创建react项目
$ cd my-app # 进入到项目
$ pnpm start # 启动项目
```

项目已经初始化并启动了,就到下一步了.

### 2.2 安装`eslint`并生成配置

``` bash 
 $ pnpm install eslint --save-dev # 安装eslint
 $ pnpm init @eslint/config # 生成配置根据自己的情况选择
```
最后要生成`.eslintrc.js`,这个配置文件:
``` bash  {2}
.
├── .eslintrc.js
├── .git
├── .gitignore
├── README.md
├── node_modules
├── package-lock.json
├── package.json
├── pnpm-lock.yaml
├── public
├── src
└── tsconfig.json

4 directories, 7 files
```
而`eslint`正是以这个文件去排查开发者的代码是否出错

### 2.3 应用到项目中
在`package.json`中加入: 
``` json title="package.json"
  ...
  "scripts": {
    ...
      "lint": "eslint ."
  }
  ...
```

在`App.tsx`中写点错误来验证下
``` tsx title="src/App.tsx" {6}
import React from 'react';
import logo from './logo.svg';
import './App.css';

function App() {
  will be error// <--  这里写点错误验证下
  return (
    <div className="App">
      <header className="App-header">
        <img src={logo} className="App-logo" alt="logo" />
        <p>
          Edit <code>src/App.tsx</code> and save to reload.
        </p>
        <a
          className="App-link"
          href="https://reactjs.org"
          target="_blank"
          rel="noopener noreferrer"
        >
          Learn React
        </a>
      </header>
    </div>
  );
}

export default App;
```

``` bash title="验证下能否排查出来"  {8-12}
$ pnpm lint
> my-app@0.1.0 lint /Users/wuchuheng/tmp/my-app
> eslint .

Warning: React version not specified in eslint-plugin-react settings. See https://github.com/jsx-eslint/eslint-plugin-react#configuration .

/Users/wuchuheng/tmp/my-app/.eslintrc.js
  1:1  error  'module' is not defined  no-undef

  ✖ 1 problem (1 error, 0 warnings)

   ELIFECYCLE  Command failed with exit code 1.
```

## 参考资料

[官方文档](https://eslint.org/)





