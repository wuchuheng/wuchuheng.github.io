"use strict";(self.webpackChunknotebook=self.webpackChunknotebook||[]).push([[4758],{89466:function(n,t,e){e.r(t),e.d(t,{default:function(){return m}});var u,i,o=e(18482),a=e(22374),l="todoItem_vRGj",r="titleRender_e9ns",c="closeIcon_U_zB",d="editInput_U8Pl",s=e(79229),f=e(76324),p=e(41069),v=function(n,t){var e;return function(){e&&clearTimeout(e),e=setTimeout((function(){n()}),t)}},m=function(n){var t=n.todo,e=n.onChange,m=n.currentChangeId,E=(0,a.useState)(!1),D=E[0],T=E[1],k=(0,s.Ps)(u||(u=(0,o.Z)(["\n        mutation  UPDATE_TODO($input: InputUpdateTodoInput!){\n            updateTodo(input:$input) {\n                id\n                done\n                title\n            }\n        }\n    "]))),U=function(){};if(p.Z.canUseDOM){var I=(0,f.D)(k),g=I[0],C=I[1];C.data,C.loading,C.error;U=function(){g({variables:{input:{id:t.id,done:!0}}})}}var _,b=(0,a.useState)(Date.now()+1e3),h=b[0],w=b[1],O=(0,a.useState)(!1),P=O[0],Z=O[1],M=(0,a.useState)(""),N=M[0],S=M[1];if((0,a.useEffect)((function(){return(null==t?void 0:t.title)&&S(null==t?void 0:t.title)}),[null==t?void 0:t.title]),(0,a.useEffect)((function(){return m!=t.id&&P&&Z(!1)}),[m]),p.Z.canUseDOM){var $=(0,s.Ps)(i||(i=(0,o.Z)(["\n            mutation  UPDATE_TODO($input: InputUpdateTodoInput!){\n                updateTodo(input:$input) {\n                    id\n                    done\n                    title\n                }\n            }\n        "]))),A=(0,f.D)($,{variables:{input:{id:null==t?void 0:t.id,title:N}}}),L=A[0],R=A[1].updateLoading;_=L,(0,a.useEffect)((function(){return!R&&console.log("Updated successful")}),[R]);var j=v((function(){return _()}),1e3);(0,a.useEffect)((function(){N!=(null==t?void 0:t.title)&&N&&j()}),[N])}return a.createElement("li",{key:null==t?void 0:t.id,className:l,onMouseEnter:function(){return T(!0)},onMouseLeave:function(){return T(!1)}},a.createElement("div",{className:r},null==t?void 0:t.id,"\u2003",!P&&a.createElement("span",{onClick:function(){Date.now()<500+h?(Z(!0),T(!1),e&&e(t.id)):w(Date.now())}},null==t?void 0:t.title," "),P&&a.createElement("input",{autoFocus:!0,className:d,value:N,onChange:function(n){return S(n.target.value)}})),D&&a.createElement("div",{className:c,onClick:U},"X"))}},18482:function(n,t,e){function u(n,t){return t||(t=n.slice(0)),n.raw=t,n}e.d(t,{Z:function(){return u}})}}]);