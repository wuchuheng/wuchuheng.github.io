"use strict";(self.webpackChunknotebook=self.webpackChunknotebook||[]).push([[6053],{85986:function(e,t,n){var a=n(22374),r=n(44171);t.Z=function(e){var t=e.alt,n=e.url,o=e.width,l=(0,a.useState)(!1),s=l[0],i=l[1];return a.createElement(a.Fragment,null,a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",justifyItems:"center"}},a.createElement("img",{src:n,onClick:function(){return i(!0)},alt:t,style:Object.assign({},null!=o?{width:o+"rem"}:{})}),s&&a.createElement(r.Z,{mainSrc:n,onCloseRequest:function(){return i(!1)}})))}},41484:function(e,t,n){n.d(t,{d:function(){return l}});var a=n(22374),r=n(95192),o=function(e){var t=e.rep,n=e.desc,o=[r.Z.grid,r.Z.gridColumn3],l=p(t),s=i(t),u="https://img.shields.io/github/stars/"+l+"/"+s,m="https://img.shields.io/github/forks/"+l+"/"+s,c="https://img.shields.io/github/followers/"+l;return a.createElement("div",{className:o.join(" ")},a.createElement("img",{src:u,alt:n}),a.createElement("img",{src:m,alt:n}),a.createElement("img",{src:c,alt:n}))},l=function(e){var t=e.tags;if(!t)return a.createElement(a.Fragment,null);var n=[r.Z.grid,r.Z.tagsRender].concat(1===t.length?[r.Z.gridColumn1]:[],2===t.length?[r.Z.gridColumn2]:[],3===t.length?[r.Z.gridColumn3]:[],4===t.length?[r.Z.gridColumn4]:[],t.length>=5?[r.Z.gridColumn5]:[]),o=[{color:"#D96868",background:"#FAEEEE"},{color:"#DFB573",background:"#FBF4E9"},{color:"#BABBBF",background:"#F2F2F3"},{color:"#8EC358",background:"#F0F8E8"},{color:"#5C97FC",background:"#ECF3FF"}];return a.createElement("div",{className:n.join(" ")},t.map((function(e,t){var n=o[t%o.length],l=n.color,s=n.background;return a.createElement("span",{style:{color:l,background:s},className:r.Z.tag,key:t},e)})))},s=function(e){var t=e.website,n=e.rep,r=e.name,o=t||n;return r=r||p(n)+"/"+i(n),a.createElement("a",{href:o,target:"_blank"},a.createElement("h3",null,r," \u2192"))},i=function(e){return e.match(/github\.com\/([^\/]+)\/([\w|_|-]+)/)[2]},u=function(e){var t=e.cover,n=e.desc,r=e.rep;return t=t||"https://github.com/"+p(r)+".png?size=80",a.createElement("img",{src:t,alt:n})},p=function(e){var t=e.match(/github\.com\/([^\/]+)/);t[0];return t[1]};t.Z=function(e){var t=e.desc,n=e.rep,i=e.cover,p=e.name,m=e.website,c=e.tags;return a.createElement("div",{className:r.Z.itemRender},a.createElement(u,{desc:t,rep:n,cover:i}),a.createElement(s,{rep:n,name:p,website:m}),a.createElement("p",null,t),a.createElement(l,{tags:c}),a.createElement(o,{desc:t,rep:n}))}},8502:function(e,t,n){var a=n(22374),r=n(41484),o=n(95192),l=function(e){var t=e.website,n=e.name;return t?a.createElement("a",{href:t,target:"_blank",className:"toolsName"},n," \u2192"):a.createElement("h3",{className:"toolsName"},n)},s=function(e){var t=e.links;if(!t)return a.createElement(a.Fragment,null);var n=Object.getOwnPropertyNames(t),r=[o.Z.grid].concat(1===n.length?[o.Z.gridColumn1]:[],2===n.length?[o.Z.gridColumn2]:[],n.length>=1?[o.Z.gridColumn3]:[]);return a.createElement("div",{className:r.join(" ")},n.map((function(e,n){return a.createElement("a",{key:n,href:t[e]},a.createElement("button",{className:o.Z.button},e))})))};t.Z=function(e){var t=e.links,n=e.website,i=e.name,u=e.desc,p=e.cover,m=e.tags;return a.createElement("div",{className:o.Z.itemRender},a.createElement("img",{src:p}),a.createElement(l,{name:i,website:n}),a.createElement("p",{className:"toolsDesc"},u),a.createElement(r.d,{tags:m}),a.createElement(s,{links:t}))}},88709:function(e,t,n){n.r(t),n.d(t,{assets:function(){return p},contentTitle:function(){return i},default:function(){return d},frontMatter:function(){return s},metadata:function(){return u},toc:function(){return m}});var a=n(23405),r=n(54751),o=(n(22374),n(70224)),l=(n(8502),n(85986),["components"]),s={title:"19 \u5173\u4e8e\u5728java\u4e2dhttp\u7684\u57fa\u672c\u4f7f\u7528\u793a\u4f8b",date:new Date("2022-11-28T00:00:00.000Z")},i=void 0,u={unversionedId:"Java/\u5173\u4e8e\u5728java\u4e2dhttp\u7684\u57fa\u672c\u4f7f\u7528\u793a\u4f8b",id:"Java/\u5173\u4e8e\u5728java\u4e2dhttp\u7684\u57fa\u672c\u4f7f\u7528\u793a\u4f8b",title:"19 \u5173\u4e8e\u5728java\u4e2dhttp\u7684\u57fa\u672c\u4f7f\u7528\u793a\u4f8b",description:"1 \u672c\u6587\u7684\u76ee\u6807\u662f\u4ec0\u4e48?",source:"@site/docs/09.Java/19.\u5173\u4e8e\u5728java\u4e2dhttp\u7684\u57fa\u672c\u4f7f\u7528\u793a\u4f8b.mdx",sourceDirName:"09.Java",slug:"/Java/\u5173\u4e8e\u5728java\u4e2dhttp\u7684\u57fa\u672c\u4f7f\u7528\u793a\u4f8b",permalink:"/docs/Java/\u5173\u4e8e\u5728java\u4e2dhttp\u7684\u57fa\u672c\u4f7f\u7528\u793a\u4f8b",draft:!1,editUrl:"https://github.com/wuchuheng/wuchuheng.github.io/edit/master/docs/09.Java/19.\u5173\u4e8e\u5728java\u4e2dhttp\u7684\u57fa\u672c\u4f7f\u7528\u793a\u4f8b.mdx",tags:[],version:"current",sidebarPosition:19,frontMatter:{title:"19 \u5173\u4e8e\u5728java\u4e2dhttp\u7684\u57fa\u672c\u4f7f\u7528\u793a\u4f8b",date:"2022-11-28T00:00:00.000Z"},sidebar:"tutorialSidebar",previous:{title:"18.Gradle\u5982\u4f55\u53d1\u5e03Java\u5e93?",permalink:"/docs/Java/Gradle\u53d1\u5e03java\u5e93"},next:{title:"01.iso\u7f51\u7edc\u4e03\u5c42\u6a21\u578b\u4ee5\u53ca\u5b9e\u73b0",permalink:"/docs/\u7f51\u7edc\u7f16\u7a0b/iso\u7f51\u7edc\u4e03\u5c42\u6a21\u578b\u4ee5\u53ca\u5b9e\u73b0"}},p={},m=[{value:"1 \u672c\u6587\u7684\u76ee\u6807\u662f\u4ec0\u4e48?",id:"1-\u672c\u6587\u7684\u76ee\u6807\u662f\u4ec0\u4e48",level:2},{value:"2 \u51c6\u5907\u5de5\u4f5c",id:"2-\u51c6\u5907\u5de5\u4f5c",level:2},{value:"3 \u4ec0\u4e48\u662f<code>http</code>?",id:"3-\u4ec0\u4e48\u662fhttp",level:2},{value:"4 \u5728java\u4e2dhttp\u8bf7\u6c42\u662f\u5982\u4f55\u5b9e\u73b0\u7684\uff1f",id:"4-\u5728java\u4e2dhttp\u8bf7\u6c42\u662f\u5982\u4f55\u5b9e\u73b0\u7684",level:2},{value:"4.1 Get\u8bf7\u6c42\u7684\u6f14\u793a",id:"41-get\u8bf7\u6c42\u7684\u6f14\u793a",level:3},{value:"4.1.1 \u670d\u52a1\u7aef\u4ee3\u7801",id:"411-\u670d\u52a1\u7aef\u4ee3\u7801",level:4},{value:"4.1.2 \u53d1\u8d77\u8bf7\u6c42",id:"412-\u53d1\u8d77\u8bf7\u6c42",level:4},{value:"4.1.3 \u63d0\u4ea4\u4ee3\u7801",id:"413-\u63d0\u4ea4\u4ee3\u7801",level:4},{value:"4.2 Post\u8bf7\u6c42\u7684\u6f14\u793a",id:"42-post\u8bf7\u6c42\u7684\u6f14\u793a",level:3},{value:"4.2.1 \u670d\u52a1\u7aef\u4ee3\u7801",id:"421-\u670d\u52a1\u7aef\u4ee3\u7801",level:4},{value:"4.2.2 post\u8bf7\u6c42\u4ee3\u7801",id:"422-post\u8bf7\u6c42\u4ee3\u7801",level:4},{value:"4.1.3 \u63d0\u4ea4\u4ee3\u7801",id:"413-\u63d0\u4ea4\u4ee3\u7801-1",level:4},{value:"\u53c2\u8003\u8d44\u6599",id:"\u53c2\u8003\u8d44\u6599",level:2}],c={toc:m};function d(e){var t=e.components,n=(0,r.Z)(e,l);return(0,o.kt)("wrapper",(0,a.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h2",{id:"1-\u672c\u6587\u7684\u76ee\u6807\u662f\u4ec0\u4e48"},"1 \u672c\u6587\u7684\u76ee\u6807\u662f\u4ec0\u4e48?"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"\u7406\u89e3http\u7684\u662f\u4ec0\u4e48\uff1f"),(0,o.kt)("li",{parentName:"ul"},"\u548c\u5728java\u4e2d\u7684\u793a\u4f8b\u4ee3\u7801")),(0,o.kt)("h2",{id:"2-\u51c6\u5907\u5de5\u4f5c"},"2 \u51c6\u5907\u5de5\u4f5c"),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:null},"\u540d\u79f0"),(0,o.kt)("th",{parentName:"tr",align:null},"\u5fc5\u8981"),(0,o.kt)("th",{parentName:"tr",align:null},"\u6587\u4e2d\u793a\u4f8b"),(0,o.kt)("th",{parentName:"tr",align:null},"\u8bf4\u660e"))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"java 17"),(0,o.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,o.kt)("td",{parentName:"tr",align:null}),(0,o.kt)("td",{parentName:"tr",align:null},"\u5982\u679c\u6ca1\u6709\u53ef\u4ee5\u53bb",(0,o.kt)("a",{parentName:"td",href:"https://www.oracle.com/java/technologies/javase/jdk17-archive-downloads.html"},"\u5b98\u7f51"),"\u4e0b\u8f7d\u3002")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"SprintBoot 3.0"),(0,o.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,o.kt)("td",{parentName:"tr",align:null}),(0,o.kt)("td",{parentName:"tr",align:null},"\u793a\u4f8b\u7684\u4ee3\u7801\u90fd\u5c06\u5199\u5728\u8fd9\u91cc, \u5982\u679c\u6ca1\u6709\u53ef\u4ee5\u53bb",(0,o.kt)("a",{parentName:"td",href:"https://start.spring.io/"},"\u5b98\u7f51"),"\u4e0b\u8f7d\u3002")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"nc"),(0,o.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,o.kt)("td",{parentName:"tr",align:null}),(0,o.kt)("td",{parentName:"tr",align:null},"Netcat ( nc ) \u4e00\u4e2a\u547d\u4ee4\u884c\u7f51\u7edc\u6d4b\u8bd5\u5de5\u5177\uff0c\u672c\u6587\u4e2d\u7528\u542f\u7528\u4e00\u4e2atcp\u670d\u52a1\u5668\u5e76\u6f14\u793ahttp\u7684\u62a5\u6587\u683c\u5f0f")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"curl"),(0,o.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,o.kt)("td",{parentName:"tr",align:null}),(0,o.kt)("td",{parentName:"tr",align:null},"\u4e00\u4e2a\u547d\u4ee4\u884c\u7684\u8bf7\u6c42\u5de5\u5177\uff0c\u672c\u6587\u4e2d\u7528\u4e8e\u5728\u7ec8\u7aef\u4e2d\u6f14\u793ahttp\u5ba2\u6237\u7aef\u5e76\u53d1\u8d77\u8bf7\u6c42")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"git"),(0,o.kt)("td",{parentName:"tr",align:null},"\u2705"),(0,o.kt)("td",{parentName:"tr",align:null}),(0,o.kt)("td",{parentName:"tr",align:null},"\u7248\u672c\u63a7\u5236\u5de5\u5177")))),(0,o.kt)("h2",{id:"3-\u4ec0\u4e48\u662fhttp"},"3 \u4ec0\u4e48\u662f",(0,o.kt)("inlineCode",{parentName:"h2"},"http"),"?"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"http"),"\u662f\u4e00\u4e2a\u6587\u672c\u6587\u4ef6\uff0c\u6bcf\u53d1\u8d77\u4e00\u4e2a\u8bf7\u6c42\u5c31\u662f\u4e0a\u4f20\u4e00\u4e2a\u6587\u672c\u5230\u670d\u52a1\u5668\u90a3\u8fb9\uff0c\u90a3\u670d\u52a1\u5668\u90a3\u8fb9\u7684\u54cd\u5e94\u4e5f\u7b49\u540c\u4e8e\u4e0b\u8f7d\u56de\u4e86\u4e00\u4e2a\u6587\u672c\u6587\u4ef6\uff0c \u800c\u8fd9\u6240\u4ee5\u53eb",(0,o.kt)("inlineCode",{parentName:"p"},"http"),"\u662f\u56e0\u4e3a\u8fd9\u4e2a\u6587\u4ef6\n\u5b9a\u4e49\u7684\u683c\u5f0f\u4e0e\u5176\u5b83\u534f\u8bae\u4e0d\u540c\uff0c\u800chttp\u7684\u62a5\u6587\u683c\u5f0f\u4e3a,\u8bf7\u6c42\u884c,\u8bf7\u6c42\u5934\u548c\u8bf7\u6c42\u4f53, \u5982\u4ee5\u4e0b\u662f\u4e00\u4ebaPost\u8bf7\u6c42:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash",metastring:'title="http\u7684\u6587\u672c\u6570\u636e\u793a\u4f8b\u683c\u5f0f"',title:'"http\u7684\u6587\u672c\u6570\u636e\u793a\u4f8b\u683c\u5f0f"'},'POST / HTTP/1.1                         // <-- 1 \u9996\u884c\u8bb0\u5f55\u8bf7\u6c42\u65b9\u5f0f\u548c\u7248\u672c\u53f7 \u683c\u5f0f\u662f\u56fa\u5b9a\u7684: \u8bf7\u6c42\u65b9\u5f0f \u8def\u7531 HTTP/\u7248\u672c\u53f7\nHost: localhost:1234                    // <-- 2 \u4ece\u7b2c\u4e8c\u884c\u5f00\u59cb\u5230\\r\\n\\r\\n\u7ed3\u675f\u4e3a\u8bf7\u6c42\u5934\u90e8\uff0c\u8fd9\u90e8\u5206\u6570\u636e\u662f\u5c5e\u4e8e\u8bf4\u660e\u4f5c\u7528\uff0c\u53ef\u6839\u636e\u9700\u8981\u81ea\u7531\u6269\u5c55\nUser-Agent: curl/7.79.1\nAccept: */*\nContent-Type: application/json         // \u89e3\u91ca\u4e86\u8bf7\u6c42\u4f53\u7684\u6570\u636e\u683c\u5f0f\u4e3ajson\nContent-Length: 15                     // \u89e3\u91ca\u4e86\u8bf7\u6c42\u4f53\u6570\u636e\u957f\u5ea6\u4e3a: 15\n\n{"key":"value"}                        // <-- 3 \u8bf7\u6c42\u4f53\u7684\u6570\u636e\n')),(0,o.kt)("details",null,(0,o.kt)("summary",null,"step 1: \u7528nc\u5728\u672c\u5730\u542f\u52a8tcp\u670d\u52a1\u5e76\u76d1\u542c1234\u7aef\u53e3"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash",metastring:'title="\u7528nc\u5728\u672c\u5730\u542f\u52a8tcp\u670d\u52a1\u5e76\u76d1\u542c1234\u7aef\u53e3"',title:'"\u7528nc\u5728\u672c\u5730\u542f\u52a8tcp\u670d\u52a1\u5e76\u76d1\u542c1234\u7aef\u53e3"'},'$ nc -l 1234  # <-- 1 \u542f\u7528\u670d\u52a1\nPOST / HTTP/1.1  # <-- 2 \u63a5\u6536\u5230\u7684http\u7684post\u8bf7\u6c42\u6587\u672c\u6570\u636e\nHost: localhost:1234\nUser-Agent: curl/7.79.1\nAccept: */*\nContent-Type: application/json\nContent-Length: 15\n\n{"key":"value"}\n\n'))),(0,o.kt)("details",null,(0,o.kt)("summary",null,"step 2: \u6253\u5f00\u65b0\u7684\u7ec8\u7aef\u5e76\u53d1\u51fapost\u8bf7\u6c42\u8fc7\u53bb"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash",metastring:'title="\u5411\u672c\u5730\u53d1\u8d77post\u8bf7\u6c42"',title:'"\u5411\u672c\u5730\u53d1\u8d77post\u8bf7\u6c42"'},"$ curl -X POST http://localhost:1234 -H 'Content-Type: application/json' -d '{\"key\":\"value\"}'\n\n"))),(0,o.kt)("h2",{id:"4-\u5728java\u4e2dhttp\u8bf7\u6c42\u662f\u5982\u4f55\u5b9e\u73b0\u7684"},"4 \u5728java\u4e2dhttp\u8bf7\u6c42\u662f\u5982\u4f55\u5b9e\u73b0\u7684\uff1f"),(0,o.kt)("h3",{id:"41-get\u8bf7\u6c42\u7684\u6f14\u793a"},"4.1 Get\u8bf7\u6c42\u7684\u6f14\u793a"),(0,o.kt)("h4",{id:"411-\u670d\u52a1\u7aef\u4ee3\u7801"},"4.1.1 \u670d\u52a1\u7aef\u4ee3\u7801"),(0,o.kt)("details",null,(0,o.kt)("summary",null,"\u670d\u52a1\u7aefGet\u8bf7\u6c42\u670d\u52a1"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-java",metastring:'title="src/main/java/com/wuchuheng/java/http_demo_java/controllers/HttpRequestDemo.java"',title:'"src/main/java/com/wuchuheng/java/http_demo_java/controllers/HttpRequestDemo.java"'},'package com.wuchuheng.java.http_demo_java.controllers;\n\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestHeader;\nimport org.springframework.web.bind.annotation.RequestParam;\n\nimport java.util.Map;\n\n@Controller\n@Slf4j\npublic class HttpRequestDemo {\n    /**\n     * Get \u8bf7\u6c42/\n     */\n    @GetMapping("/")\n    public ResponseEntity<String> getRequest(\n            @RequestHeader Map<String, String> headers,\n            @RequestParam Map<String, String> params\n    ) {\n        headers.forEach((key, value) -> {\n            log.info("header value: key: {}, value: {}", key, value);\n        });\n        params.forEach((key, value) -> {\n            log.info("params: key: {}, value: {}", key, value);\n        });\n\n        return ResponseEntity\n                .ok()\n                .header("custom-field", "custom-value")\n                .body( "Hello world");\n    }\n}\n')),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash",metastring:'title="\u63a5\u6536\u8bf7\u6c42\u540e\u6253\u5370\u5185\u5bb9"',title:'"\u63a5\u6536\u8bf7\u6c42\u540e\u6253\u5370\u5185\u5bb9"'},"2022-11-28T05:27:03.988+08:00  INFO 7022 --- [nio-8080-exec-6] c.w.j.h.controllers.HttpRequestDemo      : header value: key: user-agent, value: Java/17.0.2\n2022-11-28T05:27:03.988+08:00  INFO 7022 --- [nio-8080-exec-6] c.w.j.h.controllers.HttpRequestDemo      : header value: key: host, value: localhost:8080\n2022-11-28T05:27:03.988+08:00  INFO 7022 --- [nio-8080-exec-6] c.w.j.h.controllers.HttpRequestDemo      : header value: key: accept, value: text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2\n2022-11-28T05:27:03.988+08:00  INFO 7022 --- [nio-8080-exec-6] c.w.j.h.controllers.HttpRequestDemo      : header value: key: connection, value: keep-alive\n2022-11-28T05:27:03.988+08:00  INFO 7022 --- [nio-8080-exec-6] c.w.j.h.controllers.HttpRequestDemo      : params: key: bar, value: 2\n2022-11-28T05:27:03.988+08:00  INFO 7022 --- [nio-8080-exec-6] c.w.j.h.controllers.HttpRequestDemo      : params: key: foo, value: 1\n2022-11-28T05:30:55.532+08:00  INFO 7022 --- [io-8080-exec-10] o.apache.coyote.http11.Http11Processor   : Error parsing HTTP request header\n"))),(0,o.kt)("h4",{id:"412-\u53d1\u8d77\u8bf7\u6c42"},"4.1.2 \u53d1\u8d77\u8bf7\u6c42"),(0,o.kt)("details",null,(0,o.kt)("summary",null,"\u5ba2\u6237\u7aef\u5fc5\u8d77\u8bf7\u6c42"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-java",metastring:'title="src/test/java/com/wuchuheng/java/http_demo_java/HttpGetMethodRequestTest.java"',title:'"src/test/java/com/wuchuheng/java/http_demo_java/HttpGetMethodRequestTest.java"'},'package com.wuchuheng.java.http_demo_java;\n\nimport lombok.extern.slf4j.Slf4j;\nimport org.junit.jupiter.api.Test;\nimport org.springframework.boot.test.context.SpringBootTest;\n\n\nimport java.io.*;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\nimport java.net.URLEncoder;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\n\n@SpringBootTest\n@Slf4j\npublic class HttpGetMethodRequestTest {\n\n    /**\n     * \u628aMap\u6570\u636e\u8f6c\u6362\u4e3aurl\u683c\u5f0f\u4e0a\u7684\u6570\u636e\n     * @param params\n     * @return\n     * @throws UnsupportedEncodingException\n     */\n    public String convertParamsToUrlParams(Map<String, String> params) throws UnsupportedEncodingException {\n        StringBuilder result = new StringBuilder();\n        for (Map.Entry<String, String> entry : params.entrySet()) {\n            result.append(URLEncoder.encode(entry.getKey(), "UTF-8"));\n            result.append("=");\n            result.append(URLEncoder.encode(entry.getValue(), "UTF-8"));\n            result.append("&");\n        }\n\n        String resultString = result.toString();\n        return resultString.length() > 0\n                ? resultString.substring(0, resultString.length() - 1)\n                : resultString;\n    }\n\n\n    /**\n     * Get \u8bf7\u6c42\u6d4b\u8bd5\n     */\n    @Test\n    void httpGetTest() throws IOException {\n        // 1 \u8bf7\u6c42\u53c2\u6570url\u5e8f\u5217\u5316\n        Map<String, String> params = new HashMap<>();\n        params.put("foo", "1");\n        params.put("bar", "2");\n        String paramsUrlStr = convertParamsToUrlParams(params);\n        URL obj = new URL("http://localhost:8080/?" + paramsUrlStr);\n        // 2 TCP \u8fde\u63a5handler\n        HttpURLConnection con = (HttpURLConnection) obj.openConnection();\n        // 3 GET \u8bf7\u6c42\u65b9\u5f0f\n        con.setRequestMethod("GET");\n        con.setDoInput(true);\n        // 4 \u54cd\u5e94\u5934\u90e8\n        Map<String, List<String>> headers = con.getHeaderFields();\n        // 5 \u54cd\u5e94\u72b6\u6001\u7801\n        int responseCode = con.getResponseCode();\n        BufferedReader in = new BufferedReader( new InputStreamReader(con.getInputStream()));\n        String inputLine;\n        // 6 \u54cd\u5e94\u5185\u5bb9\n        StringBuilder response = new StringBuilder();\n        while ((inputLine = in.readLine()) != null) {\n            response.append(inputLine);\n        }\n        // 7 \u5173\u95ed\u8fde\u63a5\u548c\u7f13\u5b58\n        in.close();\n        con.disconnect();\n        System.out.println(responseCode);\n        System.out.println(headers);\n        System.out.println(response);\n    }\n}\n\n')),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash",metastring:'title="\u8f93\u5165\u7ed3\u679c"',title:'"\u8f93\u5165\u7ed3\u679c"'},"200\n{Keep-Alive=[timeout=60], null=[HTTP/1.1 200], custom-field=[custom-value], Connection=[keep-alive], Content-Length=[11], Date=[Sun, 27 Nov 2022 21:27:03 GMT], Content-Type=[text/html;charset=UTF-8]}\nHello world\n"))),(0,o.kt)("h4",{id:"413-\u63d0\u4ea4\u4ee3\u7801"},"4.1.3 \u63d0\u4ea4\u4ee3\u7801"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash",metastring:'title="\u63d0\u4ea4\u4ee3\u7801"',title:'"\u63d0\u4ea4\u4ee3\u7801"'},"$ git add -A  &&  git commit -m 'feat: \u5b9e\u73b0GET\u529f\u80fd\u548c\u6d4b\u8bd5\u7528\u4f8b'\n[master 2576c58] feat: \u5b9e\u73b0GET\u529f\u80fd\u548c\u6d4b\u8bd5\u7528\u4f8b\n 3 files changed, 112 insertions(+)\n create mode 100644 src/main/java/com/wuchuheng/java/http_demo_java/controllers/HttpRequestDemo.java\n create mode 100644 src/test/java/com/wuchuheng/java/http_demo_java/HttpGetMethodRequestTest.java\n")),(0,o.kt)("h3",{id:"42-post\u8bf7\u6c42\u7684\u6f14\u793a"},"4.2 Post\u8bf7\u6c42\u7684\u6f14\u793a"),(0,o.kt)("h4",{id:"421-\u670d\u52a1\u7aef\u4ee3\u7801"},"4.2.1 \u670d\u52a1\u7aef\u4ee3\u7801"),(0,o.kt)("details",null,(0,o.kt)("summary",null,"\u670d\u52a1\u7aef\u4ee3\u7801"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-java",metastring:'title="Post\u8bf7\u6c42\u4ee3\u7801 src/main/java/com/wuchuheng/java/http_demo_java/controllers/HttpRequestDemo.java"',title:'"Post\u8bf7\u6c42\u4ee3\u7801','src/main/java/com/wuchuheng/java/http_demo_java/controllers/HttpRequestDemo.java"':!0},'// ...\n    /**\n     * Post \u8bf7\u6c42/\n     */\n    @PostMapping("/")\n    public ResponseEntity<String> PostRequest(\n            @RequestHeader Map<String, String> headers,\n            @RequestParam Map<String, String> params,\n            @RequestBody Object body\n    ) {\n        headers.forEach((key, value) -> {\n            log.info("header value: key: {}, value: {}", key, value);\n        });\n        params.forEach((key, value) -> {\n            log.info("params: key: {}, value: {}", key, value);\n        });\n        log.info("body: {}", body);\n\n        return ResponseEntity\n                .ok()\n                .header("custom-field", "custom-value")\n                .body( "Hello world");\n    }\n\n// ...\n\n\n'))),(0,o.kt)("h4",{id:"422-post\u8bf7\u6c42\u4ee3\u7801"},"4.2.2 post\u8bf7\u6c42\u4ee3\u7801"),(0,o.kt)("details",null,(0,o.kt)("summary",null,"Post\u8bf7\u6c42\u4ee3\u7801"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-java",metastring:'title="src/test/java/com/wuchuheng/java/http_demo_java/HttpGetMethodRequestTest.java"',title:'"src/test/java/com/wuchuheng/java/http_demo_java/HttpGetMethodRequestTest.java"'},'// ...\n@Test\nvoid httpPostTest() throws IOException {\n    // 1 \u8bf7\u6c42\u53c2\u6570url\u5e8f\u5217\u5316\n    Map<String, String> params = new HashMap<>();\n    params.put("foo", "1");\n    params.put("bar", "2");\n    String paramsUrlStr = convertParamsToUrlParams(params);\n    URL obj = new URL("http://localhost:8080/?" + paramsUrlStr);\n    // 2 TCP \u8fde\u63a5handler\n    HttpURLConnection con = (HttpURLConnection) obj.openConnection();\n    con.setDoOutput(true);\n    // 3 GET \u8bf7\u6c42\u65b9\u5f0f\n    con.setRequestMethod("POST");\n    con.setDoInput(true);\n    con.setRequestProperty("Content-Type", "application/json");\n    // 3.1 \u8bbe\u7f6e\u8bf7\u6c42\u4f53\u53c2\u6570\n    String requestBodyJson = "{\\"body1\\": 1, \\"body2\\": 2}";\n    DataOutputStream out = new DataOutputStream(con.getOutputStream());\n    out.writeBytes(requestBodyJson);\n    out.flush();\n    out.close();\n    // 4 \u83b7\u53d6\u54cd\u5e94\u5934\u90e8\n    Map<String, List<String>> headers = con.getHeaderFields();\n    // 5 \u83b7\u53d6\u54cd\u5e94\u72b6\u6001\u7801\n    int responseCode = con.getResponseCode();\n    BufferedReader in = new BufferedReader( new InputStreamReader(con.getInputStream()));\n    String inputLine;\n    // 6 \u83b7\u53d6\u54cd\u5e94\u5185\u5bb9\n    StringBuilder response = new StringBuilder();\n    while ((inputLine = in.readLine()) != null) {\n        response.append(inputLine);\n    }\n    // 7 \u5173\u95ed\u8fde\u63a5\u548c\u7f13\u5b58\nin.close();\n    con.disconnect();\n    System.out.println(responseCode);\n    System.out.println(headers);\n    System.out.println(response);\n}\n// ...\n\n'))),(0,o.kt)("h4",{id:"413-\u63d0\u4ea4\u4ee3\u7801-1"},"4.1.3 \u63d0\u4ea4\u4ee3\u7801"),(0,o.kt)("details",null,(0,o.kt)("summary",null,"post\u8bf7\u6c42\u53d8\u52a8\u7684\u4ee3\u7801"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-git"},'diff --git a/src/main/java/com/wuchuheng/java/http_demo_java/controllers/HttpRequestDemo.java b/src/main/java/com/wuchuheng/java/http_demo_java/controllers/HttpRequestDemo.java\nindex b0d3112..6480da9 100644\n--- a/src/main/java/com/wuchuheng/java/http_demo_java/controllers/HttpRequestDemo.java\n+++ b/src/main/java/com/wuchuheng/java/http_demo_java/controllers/HttpRequestDemo.java\n@@ -3,9 +3,7 @@ package com.wuchuheng.java.http_demo_java.controllers;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.stereotype.Controller;\n-import org.springframework.web.bind.annotation.GetMapping;\n-import org.springframework.web.bind.annotation.RequestHeader;\n-import org.springframework.web.bind.annotation.RequestParam;\n+import org.springframework.web.bind.annotation.*;\n\nimport java.util.Map;\n\n@@ -32,4 +30,27 @@ public class HttpRequestDemo {\n.header("custom-field", "custom-value")\n        .body( "Hello world");\n}\n+\n+    /**\n+     * Post \u8bf7\u6c42/\n+     */\n+    @PostMapping("/")\n+    public ResponseEntity<String> PostRequest(\n+            @RequestHeader Map<String, String> headers,\n+            @RequestParam Map<String, String> params,\n+            @RequestBody Object body\n+    ) {\n+        headers.forEach((key, value) -> {\n+            log.info("header value: key: {}, value: {}", key, value);\n+        });\n+        params.forEach((key, value) -> {\n+            log.info("params: key: {}, value: {}", key, value);\n+        });\n+        log.info("body: {}", body);\n+\n+        return ResponseEntity\n+                .ok()\n+                .header("custom-field", "custom-value")\n+                .body( "Hello world");\n+    }\n}\ndiff --git a/src/test/java/com/wuchuheng/java/http_demo_java/HttpGetMethodRequestTest.java b/src/test/java/com/wuchuheng/java/http_demo_java/HttpGetMethodRequestTest.java\nindex 8925e08..47c67ad 100644\n--- a/src/test/java/com/wuchuheng/java/http_demo_java/HttpGetMethodRequestTest.java\n+++ b/src/test/java/com/wuchuheng/java/http_demo_java/HttpGetMethodRequestTest.java\n@@ -73,4 +73,44 @@ public class HttpGetMethodRequestTest {\n    System.out.println(headers);\n    System.out.println(response);\n}\n+\n+    @Test\n+    void httpPostTest() throws IOException {\n+        // 1 \u8bf7\u6c42\u53c2\u6570url\u5e8f\u5217\u5316\n+        Map<String, String> params = new HashMap<>();\n+        params.put("foo", "1");\n+        params.put("bar", "2");\n+        String paramsUrlStr = convertParamsToUrlParams(params);\n+        URL obj = new URL("http://localhost:8080/?" + paramsUrlStr);\n+        // 2 TCP \u8fde\u63a5handler\n+        HttpURLConnection con = (HttpURLConnection) obj.openConnection();\n+        con.setDoOutput(true);\n+        // 3 GET \u8bf7\u6c42\u65b9\u5f0f\n+        con.setRequestMethod("POST");\n+        con.setDoInput(true);\n+        con.setRequestProperty("Content-Type", "application/json");\n+        // 3.1 \u8bbe\u7f6e\u8bf7\u6c42\u4f53\u53c2\u6570\n+        String requestBodyJson = "{\\"body1\\": 1, \\"body2\\": 2}";\n+        DataOutputStream out = new DataOutputStream(con.getOutputStream());\n+        out.writeBytes(requestBodyJson);\n+        out.flush();\n+        out.close();\n+        // 4 \u83b7\u53d6\u54cd\u5e94\u5934\u90e8\n+        Map<String, List<String>> headers = con.getHeaderFields();\n+        // 5 \u83b7\u53d6\u54cd\u5e94\u72b6\u6001\u7801\n+        int responseCode = con.getResponseCode();\n+        BufferedReader in = new BufferedReader( new InputStreamReader(con.getInputStream()));\n+        String inputLine;\n+        // 6 \u83b7\u53d6\u54cd\u5e94\u5185\u5bb9\n+        StringBuilder response = new StringBuilder();\n+        while ((inputLine = in.readLine()) != null) {\n+            response.append(inputLine);\n+        }\n+        // 7 \u5173\u95ed\u8fde\u63a5\u548c\u7f13\u5b58\n+        in.close();\n+        con.disconnect();\n+        System.out.println(responseCode);\n+        System.out.println(headers);\n+        System.out.println(response);\n+    }\n}\n'))),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash",metastring:'title="\u4ee3\u7801\u63d0\u4ea4"',title:'"\u4ee3\u7801\u63d0\u4ea4"'},"$ git add -A\n$ git commit -m 'feat: \u5b9e\u73b0POST\u529f\u80fd\u548c\u6d4b\u8bd5\u7528\u4f8b'\n[master d164653] feat: \u5b9e\u73b0POST\u529f\u80fd\u548c\u6d4b\u8bd5\u7528\u4f8b\n2 files changed, 64 insertions(+), 3 deletions(-)\n\n")),(0,o.kt)("h2",{id:"\u53c2\u8003\u8d44\u6599"},"\u53c2\u8003\u8d44\u6599"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://awesome-programming-books.github.io/http/HTTP%E6%9D%83%E5%A8%81%E6%8C%87%E5%8D%97.pdf"},"\u300aHTTP\u6743\u5a01\u6307\u5357\u300b")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://github.com/wuchuheng/http_demo_java"},"\u672c\u6587\u6e90\u4ee3\u7801"))))}d.isMDXComponent=!0},95192:function(e,t){t.Z={grid:"grid_ZRF5",gridColumn1:"gridColumn1_OrMm",gridColumn2:"gridColumn2_aCvf",gridColumn3:"gridColumn3_ju8H",gridColumn4:"gridColumn4_T6dr",gridColumn5:"gridColumn5_LmNZ",itemRender:"itemRender_nDZT","el-button":"el-button_Qzj1",tagsRender:"tagsRender_d4l1",tag:"tag_kie6",button:"button_Kz__"}}}]);