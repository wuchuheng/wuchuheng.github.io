"use strict";(self.webpackChunknotebook=self.webpackChunknotebook||[]).push([[7116],{70224:function(e,n,t){t.d(n,{Zo:function(){return p},kt:function(){return u}});var a=t(22374);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function c(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var l=a.createContext({}),s=function(e){var n=a.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):o(o({},n),e)),t},p=function(e){var n=s(e.components);return a.createElement(l.Provider,{value:n},e.children)},d={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},m=a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,i=e.originalType,l=e.parentName,p=c(e,["components","mdxType","originalType","parentName"]),m=s(t),u=r,E=m["".concat(l,".").concat(u)]||m[u]||d[u]||i;return t?a.createElement(E,o(o({ref:n},p),{},{components:t})):a.createElement(E,o({ref:n},p))}));function u(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var i=t.length,o=new Array(i);o[0]=m;var c={};for(var l in n)hasOwnProperty.call(n,l)&&(c[l]=n[l]);c.originalType=e,c.mdxType="string"==typeof e?e:r,o[1]=c;for(var s=2;s<i;s++)o[s]=t[s];return a.createElement.apply(null,o)}return a.createElement.apply(null,t)}m.displayName="MDXCreateElement"},4134:function(e,n,t){t.r(n),t.d(n,{assets:function(){return p},contentTitle:function(){return l},default:function(){return u},frontMatter:function(){return c},metadata:function(){return s},toc:function(){return d}});var a=t(23405),r=t(54751),i=(t(22374),t(70224)),o=["components"],c={title:"6.\u5343\u4e07\u7ea7\u6570\u636e\u67e5\u8be2\u521d\u63a2",date:new Date("2019-08-22T16:41:51.000Z"),tags:["Mysql"],categories:["Mysql"]},l=void 0,s={unversionedId:"Mysql/\u5343\u4e07\u7ea7\u6570\u636e\u67e5\u8be2\u521d\u63a2",id:"Mysql/\u5343\u4e07\u7ea7\u6570\u636e\u67e5\u8be2\u521d\u63a2",title:"6.\u5343\u4e07\u7ea7\u6570\u636e\u67e5\u8be2\u521d\u63a2",description:"1 \u5f00\u7bc7\u660e\u8bae",source:"@site/docs/03.Mysql/6.\u5343\u4e07\u7ea7\u6570\u636e\u67e5\u8be2\u521d\u63a2.md",sourceDirName:"03.Mysql",slug:"/Mysql/\u5343\u4e07\u7ea7\u6570\u636e\u67e5\u8be2\u521d\u63a2",permalink:"/docs/Mysql/\u5343\u4e07\u7ea7\u6570\u636e\u67e5\u8be2\u521d\u63a2",draft:!1,editUrl:"https://github.com/wuchuheng/wuchuheng.github.io/edit/master/docs/03.Mysql/6.\u5343\u4e07\u7ea7\u6570\u636e\u67e5\u8be2\u521d\u63a2.md",tags:[{label:"Mysql",permalink:"/docs/tags/mysql"}],version:"current",sidebarPosition:6,frontMatter:{title:"6.\u5343\u4e07\u7ea7\u6570\u636e\u67e5\u8be2\u521d\u63a2",date:"2019-08-22T16:41:51.000Z",tags:["Mysql"],categories:["Mysql"]},sidebar:"tutorialSidebar",previous:{title:"5.\u9501\u673a\u5236\u521d\u63a2",permalink:"/docs/Mysql/\u9501\u673a\u5236\u521d\u63a2"},next:{title:"7 MySQL\u751f\u4ea7\u73af\u5883\u5b89\u5168\u6743\u9650\u8bbe\u7f6e",permalink:"/docs/Mysql/MySQL\u751f\u4ea7\u73af\u5883\u5b89\u5168\u6743\u9650\u8bbe\u7f6e"}},p={},d=[{value:"1 \u5f00\u7bc7\u660e\u8bae",id:"1-\u5f00\u7bc7\u660e\u8bae",level:2},{value:"2 \u6d4b\u8bd5\u673a\u5b50\u73af\u5883",id:"2-\u6d4b\u8bd5\u673a\u5b50\u73af\u5883",level:2},{value:"2 \u5efa\u8868\u548c\u6dfb\u52a0\u6d4b\u8bd5\u6570\u636e",id:"2-\u5efa\u8868\u548c\u6dfb\u52a0\u6d4b\u8bd5\u6570\u636e",level:2}],m={toc:d};function u(e){var n=e.components,t=(0,r.Z)(e,o);return(0,i.kt)("wrapper",(0,a.Z)({},m,t,{components:n,mdxType:"MDXLayout"}),(0,i.kt)("h2",{id:"1-\u5f00\u7bc7\u660e\u8bae"},"1 \u5f00\u7bc7\u660e\u8bae"),(0,i.kt)("p",null,"\u6628\u5929\u4e00\u5bb6\u516c\u53f8\u7684\u9762\u8bd5\u5b98\u95ee\u4e86\u4e2a\u95ee\u9898\uff0c\u67092\u4e2a\u8868\u5c31\u662f\u5feb\u9012\u8be6\u60c5\u8868\u548c\u5feb\u9012\u8f68\u8ff9\u8868\uff0c\u6bcf\u5929\u6709\u767e\u4e07\u4e2a\n\u5feb\u9012\uff0c\u6570\u636e\u8868\u7684\u6bcf\u5f20\u8868\u5c11\u8bf4\u90fd\u4e0d\u5c11\u4e8e\u5343\u4e07\u6761\uff0c\u95ee\u9898\u662f\u600e\u4e48\u6839\u636e\u7528\u6237\u7684id\u5feb\u901f\u67e5\u627e\u7528\u6237\u7684\u5feb\u9012\u5355\n\u548c\u8fd0\u52a8\u8f68\u8ff9?\u6700\u597d\u67e5\u8be2\u65f6\u95f4\u63a7\u5236\u5728600\u6beb\u79d2\u4e0b\u3002",(0,i.kt)("br",{parentName:"p"}),"\n","\u8fd9\u662f\u4e00\u4e2a\u4e00\u5bf9\u591a\u7684\u5173\u7cfb\uff0c\u5c31\u4e00\u4e2a\u5feb\u9012\u5355\u5b50\u6709\u591a\u4e2a\u8f68\u8ff9\u70b9\u3002"),(0,i.kt)("h2",{id:"2-\u6d4b\u8bd5\u673a\u5b50\u73af\u5883"},"2 \u6d4b\u8bd5\u673a\u5b50\u73af\u5883"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"OS"),": ",(0,i.kt)("inlineCode",{parentName:"p"},"homestead:8.0.1(debian) 64\u4f4d"),"\n",(0,i.kt)("inlineCode",{parentName:"p"},"\u5185\u5b58")," : ",(0,i.kt)("inlineCode",{parentName:"p"},"8G"),"\n",(0,i.kt)("inlineCode",{parentName:"p"},"mysql version"),":  ",(0,i.kt)("inlineCode",{parentName:"p"},"5.7.27")),(0,i.kt)("h2",{id:"2-\u5efa\u8868\u548c\u6dfb\u52a0\u6d4b\u8bd5\u6570\u636e"},"2 \u5efa\u8868\u548c\u6dfb\u52a0\u6d4b\u8bd5\u6570\u636e"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-sql"},"create database test; -- \u6d4b\u8bd5\u6570\u636e\u5e93\n\n-- \u5feb\u9012\u8ba2\u5355\u8868\nDROP TABLE IF EXISTS `express`;\nCREATE TABLE `express` (\n  `id` int(30) NOT NULL AUTO_INCREMENT,\n  `uid` char(100) NOT NULL COMMENT '\u7528\u6237id',\n  `p_from` char(50) NOT NULL COMMENT '\u53d1\u4ef6\u4eba',\n  `p_to` char(50) CHARACTER SET utf8 NOT NULL COMMENT '\u6536\u4ef6\u4eba',\n  `is_receive` int(1) NOT NULL DEFAULT '0' COMMENT '\u662f\u5426\u6536\u4ef6 0\u5426 1\u6536',\n  `create_time` int(10) NOT NULL COMMENT '\u521b\u5efa\u65f6\u95f4\u6233',\n  PRIMARY KEY (`id`),\n  KEY `uid` (`uid`)\n) ENGINE=MyISAM AUTO_INCREMENT=1 DEFAULT CHARSET=latin1;\n\n\n--- \u8f68\u8ff9\u8868\nCREATE TABLE `track` (\n  `id` int(255) NOT NULL AUTO_INCREMENT,\n  `y` float(10,0) DEFAULT NULL COMMENT 'y\u5ea7\u6807',\n  `x` float(10,0) DEFAULT NULL COMMENT 'x\u5ea7\u6807',\n  `express_id` int(22) DEFAULT NULL COMMENT '\u5355\u53f7',\n  PRIMARY KEY (`id`),\n  KEY `order_number` (`express_id`)\n) ENGINE=MyISAM AUTO_INCREMENT=2163031 DEFAULT CHARSET=latin1 COMMENT=' \u8f68\u8ff9\u8868';\n \n-- \u6dfb\u52a0\u6d4b\u8bd5\u6570\u636e \ncreate procedure add_test_data()\nbegin\n    declare num int;\n    declare order_number int;\n         declare track_num int;\n        declare track_while int;\n    set num=1;\n    while num <= 10000000 do\n        insert into express(uid, p_from, p_to, is_receive, create_time) values(replace(uuid(), '-', ''), CONCAT('from_', floor(rand()*1000)), CONCAT('to_', floor(rand()*1000)),0, UNIX_TIMESTAMP(NOW()));\n        set num=num+1;\n        set track_while = floor(rand() * 10);\n        set track_num = 1;\n        while track_num <= track_while do\n           INSERT INTO `test`.`track` ( `y`, `x`, `express_id`) VALUES (rand()*rand()*100, rand()*rand()*100, (select max(id)from express));\n           set track_num = track_num + 1;\n        end while;\n    end while;\nend;\n\n-- \u5bfc\u5165\ncall add_test_data();\n\n")),(0,i.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"\u67091\u4ebf\u6761\u5de6\u53f3\u7684\u6570\u636e\uff0c\u9884\u8ba1\u6ca1\u6709\u534a\u5929\u65f6\u95f4\u662f\u751f\u6210\u4e0d\u5b8c\u7684\u3002"))),(0,i.kt)("p",null,(0,i.kt)("img",{parentName:"p",src:"https://qiniu.wuchuheng.com/images/6.%E5%8D%83%E4%B8%87%E7%BA%A7%E6%95%B0%E6%8D%AE%E6%9F%A5%E8%AF%A2%E5%88%9D%E6%8E%A21.png",alt:null})),(0,i.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"\u7531\u4e8e",(0,i.kt)("inlineCode",{parentName:"p"},"innodb"),"\u8981\u989d\u5916\u5904\u7406\u4e8b\u52a1\u7684\u7d22\u5f15\uff0c\u76f8\u5bf9\u6765\u8bf4MyISAM \u66f4\u5feb"))),(0,i.kt)("p",null,(0,i.kt)("img",{parentName:"p",src:"https://qiniu.wuchuheng.com/images/6.%E5%8D%83%E4%B8%87%E7%BA%A7%E6%95%B0%E6%8D%AE%E6%9F%A5%E8%AF%A2%E5%88%9D%E6%8E%A22.png",alt:null}),"\n\u4ece\u7ed3\u679c\u6765\u8bf4\uff0c\u4e3b\u952e\u8054\u8868\u67e5\u627e\u67091\u53438\u767e\u591a\u4e07\u6761\u6570\u636e\u8868\uff0c\u548c1\u4ebf\u591a\u6761\u7684\u8be6\u60c5\u8868\u4e2d\u67e5\u8be2\u7684\u901f\u5ea6\u662f\u5f88\u5feb\u7684\u3002"),(0,i.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"\u56de\u5230\u539f\u6765\u7684\u95ee\u9898\uff0c\u6839\u636e\u7528\u6237id\u5373",(0,i.kt)("inlineCode",{parentName:"p"},"uid"),"\u5728\u5343\u4e07\u6761\u5feb\u9012\u5355\u5b50\u548c\u4e0a\u4ebf\u7684\u8f68\u8ff9\u67e5\u627e\u7528\u6237\u7684\u5feb\u9012\u548c\u5feb\u9012\u8be6\u60c5\u3002"))),(0,i.kt)("p",null,(0,i.kt)("img",{parentName:"p",src:"https://qiniu.wuchuheng.com/images/6.%E5%8D%83%E4%B8%87%E7%BA%A7%E6%95%B0%E6%8D%AE%E6%9F%A5%E8%AF%A2%E5%88%9D%E6%8E%A23.png",alt:null}),"\n\u7ed3\u679c\u662f\uff1a0.001s.\n",(0,i.kt)("img",{parentName:"p",src:"https://qiniu.wuchuheng.com/images/6.%E5%8D%83%E4%B8%87%E7%BA%A7%E6%95%B0%E6%8D%AE%E6%9F%A5%E8%AF%A2%E5%88%9D%E6%8E%A24.png",alt:null}),"\n\u7531\u4e8e\u7d22\u5f15\u7684\u8d77\u4f5c\u7528\uff0c\u4ec5\u626b\u63cf1\u523011\u884c\u7684\u6570\u636e\u3002"))}u.isMDXComponent=!0}}]);